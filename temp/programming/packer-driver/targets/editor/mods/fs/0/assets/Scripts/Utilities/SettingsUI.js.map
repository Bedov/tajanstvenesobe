{"version":3,"sources":["file:///Users/aleksandarbedov/Documents/CocosCreator/tajanstvenesobe2/assets/Scripts/Utilities/SettingsUI.ts"],"names":["_decorator","Component","Node","Slider","Toggle","GameManager","GameStatuType","ScriptEffects","GlobalManager","ccclass","property","SettingsUI","start","defaultMoveSpeed","getInstance","moveSpeed","setStartingMuteCheck","volume","normalSoundIcon","active","muteSoundIcon","sliderChanged","event","customEventData","speedSlider","progress","toggleCheckedMute","zvukCheckpoint","isChecked","setVolume","toggleChecked","inverseRotationIcon","inversionToggle","normalRotationIcon","invertedRotation","console","log","solveIntroTaskButton","turnOnSetting","getComponent","fadeInActive","gameStatus","gamePaused","turnOffSetting","fadeOutActive","gameActive"],"mappings":"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","sourcesContent":["\r\nimport { _decorator, Component, Node, EventHandler, SliderComponent,  Label, Slider, Toggle, Game } from 'cc';\r\nimport { GameManager, GameStatuType } from '../GameManager';\r\nimport { ScriptEffects } from './ScriptEffects';\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n * Predefined variables\r\n * Name = GenericUI\r\n * DateTime = Wed Nov 17 2021 22:41:36 GMT+0100 (Central European Standard Time)\r\n * Author = stickandrope\r\n * FileBasename = GenericUI.ts\r\n * FileBasenameNoExtension = GenericUI\r\n * URL = db://assets/Scripts/Utilities/GenericUI.ts\r\n * ManualUrl = https://docs.cocos.com/creator/3.3/manual/en/\r\n *\r\n */\r\n import { GlobalManager } from '../GlobalManager';\r\nimport { AudioManager } from '../AudioManager';\r\n \r\n@ccclass('SettingsUI')\r\nexport class SettingsUI extends Component {\r\n    \r\n    @property(Node)\r\n    genericTekst!: Node;\r\n\r\n    @property(Node)\r\n    normalRotationIcon!: Node;\r\n\r\n    @property(Node)\r\n    inverseRotationIcon!: Node;\r\n\r\n    @property(Node)\r\n    normalSoundIcon!: Node;\r\n\r\n    @property(Node)\r\n    muteSoundIcon!: Node;\r\n\r\n    @property(Slider)\r\n    speedSlider!: Slider;\r\n\r\n    @property(Toggle)\r\n    inversionToggle!: Toggle;\r\n\r\n    @property(Toggle)\r\n    zvukCheckpoint!: Toggle;\r\n\r\n    defaultMoveSpeed : number = 1.5;\r\n\r\n   /* onLoad(){\r\n        const sliderEventHandler = new EventHandler();\r\n        // This Node is the node to which your event processing code component belongs\r\n        sliderEventHandler.target = this.node;\r\n        // This is the script class name\r\n        sliderEventHandler.component = 'example';\r\n        sliderEventHandler.handler = 'callback';\r\n        sliderEventHandler.customEventData = 'foobar';\r\n\r\n        const slider = this.node.getComponent(SliderComponent);\r\n        slider!.slideEvents.push(sliderEventHandler);\r\n    } */\r\n\r\n    start () {\r\n        this.defaultMoveSpeed = GameManager.getInstance().moveSpeed;\r\n        this.setStartingMuteCheck();\r\n    }\r\n\r\n    setStartingMuteCheck() {\r\n        if(GlobalManager.volume == 1) {\r\n            this.normalSoundIcon.active = true;\r\n            this.muteSoundIcon.active = false;\r\n        }\r\n        else {\r\n            this.normalSoundIcon.active = false;\r\n            this.muteSoundIcon.active = true;\r\n        }\r\n           \r\n\r\n    }\r\n\r\n    sliderChanged(event: Event, customEventData: string){\r\n        GameManager.getInstance().moveSpeed = this.speedSlider.progress + this.defaultMoveSpeed;\r\n    }\r\n\r\n    toggleCheckedMute(event: Event, customEventData: string){\r\n        this.normalSoundIcon.active = this.zvukCheckpoint.isChecked;\r\n        this.muteSoundIcon.active = !this.zvukCheckpoint.isChecked;\r\n\r\n        var volume;\r\n        if(this.zvukCheckpoint.isChecked)\r\n            volume = 1;\r\n        else\r\n            volume = 0;\r\n\r\n        \r\n        GlobalManager.getInstance().setVolume(volume);\r\n    }\r\n\r\n    toggleChecked(event: Event, customEventData: string){\r\n        this.inverseRotationIcon.active = this.inversionToggle.isChecked;\r\n        this.normalRotationIcon.active = !this.inversionToggle.isChecked;\r\n\r\n        GameManager.getInstance().invertedRotation = this.inversionToggle.isChecked!;\r\n        console.log(\" TOGGLE \" + GameManager.getInstance().invertedRotation );\r\n        \r\n        \r\n    }\r\n\r\n    solveIntroTaskButton() {\r\n        //Translate -> Trebace nam kasnije\r\n         //this.node.getChildByName(\"GenericButton\")!.getChildByName(\"Label\")!.getComponent(Label)!.string = GlobalManager.getGlobal().exitButton!;\r\n\r\n         //this.node.getChildByName(\"Speed\")!.getComponent(Label)!.string = GlobalManager.getGlobal().choseSpeedSettingsText!;\r\n        // this.node.getChildByName(\"Inverse\")!.getComponent(Label)!.string = GlobalManager.getGlobal().inverseSettingsText!;\r\n    } \r\n\r\n    turnOnSetting() {\r\n        this.getComponent(ScriptEffects)!.fadeInActive();\r\n        //this.genericTekst.getComponent(Label)!.string = tekst.toString();\r\n        this.solveIntroTaskButton();\r\n\r\n        GameManager.getInstance().gameStatus = GameStatuType.gamePaused; \r\n    }\r\n\r\n    turnOffSetting() {\r\n        \r\n        this.getComponent(ScriptEffects)?.fadeOutActive();\r\n        GameManager.getInstance().gameStatus = GameStatuType.gameActive; \r\n    }\r\n}\r\n\r\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.3/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.3/manual/en/scripting/ccclass.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.3/manual/en/scripting/life-cycle-callbacks.html\r\n */\r\n"]}