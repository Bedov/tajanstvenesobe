{"version":3,"sources":["file:///Users/aleksandarbedov/Documents/CocosCreator/tajanstvenesobe2/assets/Scripts/GlobalManager.ts"],"names":["globalProgress","GeneralInformations","levelObject","_decorator","Component","assetManager","Label","EditBoxComponent","Animation","sys","game","AudioManager","GameManager","GameStatuType","levelStatus","constructor","springFest","playfullCity","easterVillage","birthdayParty","christmasVillage","medievalTown","happyStreet","backToKindergarden","undergroundChamber","invisablePeopleCity","tutorialInstroction","goButton","exitButton","inverseSettingsText","choseSpeedSettingsText","downloading","settingData","ccclass","property","sceneName","ID","status","levelProgress","setLevelProgress","console","log","getLevelProgress","setData","level","globalInformations","elevator","kinderGardenData","unlocked","birthdayPartyData","locked","playfulCityData","springFestData","medivalVillageData","undergroundChamberData","finished","happyStreetData","easterVillageData","GlobalManager","Number","String","gameTutorial","getGlobal","getInstance","instance","setWorldArray","projectNumber","levelsArray","push","onLoad","findGeneralProgress","activeLevelData","setPlatformType","addPersistRootNode","node","start","addProgressTest","refreshLevelButtons","refreshLevelsStatus","setVolume","volume","setMusicVolume","localAudioSource","os","OS","ANDROID","IOS","platform","Platform","MOBILE_BROWSER","isMobileOrTablet","languageChanged","changeLanguage","LanguageName","LanguageBox","string","fetchGeneralDictionary","getComponent","play","remoteUrlRoot","originUrl","loadRemote","err","textAsset","parsedJSON","JSON","parse","toString","error","printProgress","levelData","update","setWorldsNames","generalProgress","length","index"],"mappings":"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","sourcesContent":["\r\nexport enum levelStatus {\r\n    locked =    0,\r\n    unlocked =   1,\r\n    finished =   2,\r\n    }\r\n\r\n    \r\nexport class globalProgress {\r\n\r\n    //Needs to fetch the data from the server\r\n    KinderGardenLevel : levelObject = new levelObject; \r\n\r\n}\r\nexport class GeneralInformations {\r\n    //public globalProgress : number = 0;\r\n\r\n    springFest?: string;\r\n    playfullCity?: string;\r\n    easterVillage?: string;\r\n    birthdayParty?: string;\r\n    christmasVillage?: string;\r\n    medievalTown?: string;\r\n    happyStreet?: string;\r\n    backToKindergarden?: string;\r\n    undergroundChamber?: string;\r\n    invisablePeopleCity?: string;\r\n    tutorialInstroction?: string;\r\n\r\n    goButton?: string;\r\n    exitButton?: string;\r\n\r\n    inverseSettingsText? : string;\r\n    choseSpeedSettingsText? : string;\r\n\r\n\r\n     constructor( ) {\r\n\r\n        this.springFest = \"! Spring Fest\";\r\n        this.playfullCity =  \"! Playful City\";\r\n        this.easterVillage =  \"! Easter Village\";\r\n        this.birthdayParty =  \"! Birthday Party\";\r\n        this.christmasVillage = \"! Christmas Village\";\r\n        this.medievalTown =  \"! Medieval Town\";\r\n        this.happyStreet =  \"! Happy Street\";\r\n        this.backToKindergarden =  \"! Back To Kindergarden\";\r\n        this.undergroundChamber = \"! Underground Chamber\";\r\n        this.invisablePeopleCity =  \"! City of the invisable people\";\r\n\r\n        this.tutorialInstroction =  \"! Try to controll the player, so you can get your first task!\";\r\n\r\n        this.goButton =  \"! GO\";\r\n        this.exitButton =  \"! EXIT\";\r\n\r\n        this.inverseSettingsText =  \"! Inverse the look controls\";\r\n        this.choseSpeedSettingsText =  \"! Choose the speed of the player\";\r\n    } \r\n}\r\n\r\n\r\nvar downloading = false;\r\nvar settingData = false;\r\n\r\n\r\n\r\nimport { _decorator, Component, Node, assetManager, Label, EditBoxComponent, Animation, AffineTransform, sys, game, director, Scene, find } from 'cc';\r\nimport { AudioManager } from './AudioManager';\r\nimport { GameManager, GameStatuType } from './GameManager';\r\nimport { OpenLevelByName } from './Utilities/OpenLevelByName';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport class levelObject {\r\n    \r\n    sceneName?: string;\r\n    ID?: number;\r\n    status? : levelStatus;\r\n    private levelProgress? : number;\r\n\r\n    constructor() {\r\n        this.sceneName = \"\";\r\n        this.ID = 0;\r\n        this.status = 0\r\n        this.levelProgress = 0;\r\n    }\r\n    setLevelProgress(levelProgress:number) {\r\n        console.log(\"Progress of \" + this.sceneName + \" Changed to \" + levelProgress);\r\n        \r\n        this.levelProgress = levelProgress;\r\n    }\r\n\r\n    getLevelProgress() {\r\n        return this.levelProgress;\r\n    }\r\n\r\n    setData(level: levelObject) {\r\n        this.sceneName = level.sceneName;\r\n        this.ID = level.ID;\r\n        this.status = level.status;\r\n        this.levelProgress = level.levelProgress;\r\n    }\r\n    \r\n\r\n}\r\n\r\nvar globalInformations = new GeneralInformations;\r\n\r\n\r\nvar elevator = new levelObject();\r\nelevator.sceneName = \"MainMenuLift1\";\r\n\r\n\r\nexport {elevator};\r\n\r\n//Prvi Razred\r\nvar kinderGardenData = new levelObject();\r\nkinderGardenData.sceneName = \"KinderGarden\";\r\n//kinderGardenData.setLevelProgress(6);\r\nkinderGardenData.status = levelStatus.unlocked;\r\n\r\n\r\nvar birthdayPartyData = new levelObject();\r\nbirthdayPartyData.sceneName = \"BirthdayParty\";\r\n//birthdayPartyData.setLevelProgress(6);\r\nbirthdayPartyData.status = levelStatus.locked;\r\n\r\nvar playfulCityData = new levelObject();\r\nplayfulCityData.sceneName = \"RaziganiGrad\";\r\n//playfulCityData.setLevelProgress(6);\r\nplayfulCityData.status = levelStatus.locked;\r\n\r\nvar springFestData = new levelObject();\r\nspringFestData.sceneName = \"ProlecniKarneval\";\r\n//springFestData.setLevelProgress(6);\r\nspringFestData.status = levelStatus.locked;\r\n\r\nvar medivalVillageData = new levelObject();\r\nmedivalVillageData.sceneName = \"MedivalVillage\";\r\n//medivalVillageData.setLevelProgress(8);\r\nmedivalVillageData.status = levelStatus.locked;\r\n\r\n\r\n\r\n//Drugi Razred\r\n\r\nvar undergroundChamberData = new levelObject();\r\nundergroundChamberData.sceneName = \"PodzemnaOdaja\";\r\nundergroundChamberData.status = levelStatus.finished;\r\n\r\nvar christmasVillage = new levelObject();\r\nchristmasVillage.sceneName = \"Bozicna2\";\r\nchristmasVillage.status = levelStatus.finished;\r\n\r\nvar happyStreetData = new levelObject();\r\nhappyStreetData.sceneName = \"VeselaUlica\";\r\nhappyStreetData.status = levelStatus.finished;\r\n\r\nvar easterVillageData = new levelObject();\r\neasterVillageData.sceneName = \"Uskrs\";\r\neasterVillageData.status = levelStatus.finished;\r\n\r\nvar invisablePeopleCity = new levelObject();\r\ninvisablePeopleCity.sceneName = \"GradNevidljivihStanovnika\";\r\ninvisablePeopleCity.status = levelStatus.unlocked;\r\n\r\nexport { kinderGardenData, birthdayPartyData, playfulCityData, springFestData, medivalVillageData, christmasVillage, easterVillageData, happyStreetData, undergroundChamberData, invisablePeopleCity, globalInformations};\r\n \r\n@ccclass('GlobalManager')\r\nexport class GlobalManager extends Component {\r\n\r\n    static volume  : number = 1; \r\n\r\n    static getGlobal() {\r\n        return globalInformations;\r\n    }\r\n\r\n    isMobileOrTablet : boolean = false;\r\n\r\n    moveSpeed : number = 1.5;\r\n    \r\n    invertedRotation : boolean = false;\r\n\r\n\r\n    gameStatus? : GameStatuType = GameStatuType.gameTutorial;\r\n\r\n    \r\n    @property(Number)\r\n    projectNumber : Number = 0;\r\n\r\n    levelsArray: Array<levelObject> = [];\r\n\r\n    activeLevelData = elevator;\r\n\r\n\r\n    @property(String)\r\n    LanguageName?: String;\r\n\r\n    @property(Label)\r\n    springFest?: Label;\r\n    @property(Label)\r\n    playfullCity?: Label;\r\n    @property(Label)\r\n    easterVillage?: Label;\r\n    @property(Label)\r\n    birthdayParty?: Label;\r\n    @property(Label)\r\n    christmasVillage?: Label;\r\n    @property(Label)\r\n    medievalTown?: Label;\r\n    @property(Label)\r\n    happyStreet?: Label;\r\n    @property(Label)\r\n    backToKindergarden?: Label;\r\n    @property(Label)\r\n    undergroundChamber?: Label;\r\n    @property(Label)\r\n    invisablePeopleCity?: Label;\r\n\r\n\r\n    @property(EditBoxComponent)\r\n    LanguageBox?: EditBoxComponent;\r\n\r\n    public static getInstance(): GlobalManager {\r\n        if (!this.instance) {\r\n            GlobalManager.instance = new GlobalManager();\r\n            \r\n        }\r\n        return GlobalManager.instance;\r\n    }\r\n\r\n    static instance: GlobalManager;\r\n    \r\n    originUrl = \"https://abedov.com/json\"; \r\n\r\n\r\n    setWorldArray() {\r\n        switch (this.projectNumber) {\r\n            case 1:\r\n                this.levelsArray.push(kinderGardenData);\r\n                this.levelsArray.push(birthdayPartyData);\r\n                this.levelsArray.push(playfulCityData);\r\n                this.levelsArray.push(springFestData);\r\n                this.levelsArray.push(medivalVillageData);\r\n                break;\r\n            case 2:\r\n                this.levelsArray.push(undergroundChamberData);\r\n                this.levelsArray.push(christmasVillage);\r\n                this.levelsArray.push(happyStreetData);\r\n                this.levelsArray.push(easterVillageData);\r\n                \r\n                \r\n                this.levelsArray.push(invisablePeopleCity);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    \r\n\r\n\r\n    onLoad() {\r\n        GlobalManager.instance = this;\r\n        this.setWorldArray();\r\n        \r\n        if(this.findGeneralProgress() > 0) \r\n            GlobalManager.getInstance().activeLevelData.setLevelProgress(2);\r\n\r\n        \r\n        this.setPlatformType();\r\n\r\n        game.addPersistRootNode(this.node);\r\n    }\r\n\r\n    start() {\r\n       // this.schedule( this.printProgress(this.activeLevelData) , 1);\r\n\r\n    }\r\n\r\n\r\n    addProgressTest () {\r\n        //globalInformations.globalProgress ++;\r\n        this.refreshLevelButtons();\r\n    }\r\n\r\n    refreshLevelsStatus(){\r\n\r\n    }\r\n\r\n    refreshLevelButtons() {\r\n\r\n    }\r\n\r\n\r\n    \r\n    setVolume(volume: number){\r\n        GlobalManager.volume = volume;\r\n        AudioManager.getInstance().setMusicVolume(volume);\r\n        GameManager.getInstance().localAudioSource!.volume = volume;\r\n        \r\n\r\n    }\r\n    \r\n    setPlatformType() {\r\n        \r\n        if(sys.os == sys.OS.ANDROID || sys.os == sys.OS.IOS || sys.platform == sys.Platform.MOBILE_BROWSER) \r\n            this.isMobileOrTablet = true;\r\n    }\r\n\r\n    languageChanged() {\r\n\r\n    }\r\n\r\n    changeLanguage() {\r\n        this.LanguageName = this.LanguageBox?.string;\r\n\r\n        if(this.LanguageBox?.string == \"SRB\" || this.LanguageBox?.string == \"ENG\" ) {\r\n            this.fetchGeneralDictionary()\r\n            this.LanguageBox?.node.getComponent(Animation)!.play(\"Approved\");\r\n        }\r\n        else \r\n            this.LanguageBox?.node.getComponent(Animation)!.play(\"WrongNudge\");\r\n        \r\n    }\r\n\r\n    fetchGeneralDictionary() {\r\n\r\n        let remoteUrlRoot = this.originUrl + \"/\" + this.LanguageName + \"/\" + \"generalinfo.txt\" ;\r\n\r\n        downloading = true;\r\n        settingData = true;\r\n\r\n        try {\r\n\r\n            assetManager.loadRemote(remoteUrlRoot, function (err, textAsset) {\r\n\r\n                try {\r\n\r\n                   var parsedJSON = JSON.parse(textAsset.toString());\r\n                \r\n                globalInformations.backToKindergarden = parsedJSON[\"backToKindergarden\"].toString()\r\n                globalInformations.birthdayParty = parsedJSON[\"birthdayParty\"].toString()\r\n                globalInformations.choseSpeedSettingsText = parsedJSON[\"choseSpeedSettingsText\"].toString()\r\n                globalInformations.christmasVillage = parsedJSON[\"christmasVillage\"].toString()\r\n                globalInformations.easterVillage = parsedJSON[\"easterVillage\"].toString()\r\n                globalInformations.exitButton = parsedJSON[\"exitButton\"].toString()\r\n                globalInformations.goButton = parsedJSON[\"goButton\"].toString()\r\n                globalInformations.happyStreet = parsedJSON[\"happyStreet\"].toString()\r\n                globalInformations.inverseSettingsText = parsedJSON[\"inverseSettingsText\"].toString()\r\n                globalInformations.invisablePeopleCity = parsedJSON[\"invisablePeopleCity\"].toString()\r\n                globalInformations.medievalTown = parsedJSON[\"medievalTown\"].toString()\r\n                globalInformations.playfullCity = parsedJSON[\"playfullCity\"].toString()\r\n                globalInformations.springFest = parsedJSON[\"springFest\"].toString()\r\n                globalInformations.tutorialInstroction = parsedJSON[\"tutorialInstroction\"].toString()\r\n                globalInformations.undergroundChamber = parsedJSON[\"undergroundChamber\"].toString()\r\n\r\n               \r\n               } catch (error) {\r\n                   console.log(\"Nisam nasao trazeno polje za parsiranje\" );\r\n                   \r\n                   return false;\r\n               }\r\n               downloading = false;\r\n           });\r\n           return true;\r\n       } catch (error) {\r\n           console.log(\"Nisam nasao trazenu adresu za parsiranje 2\" );\r\n           return false;\r\n       }\r\n\r\n       \r\n    } \r\n\r\n    printProgress(levelData: levelObject) {\r\n        console.log(\"Name - \" + levelData.sceneName);\r\n        console.log(\"Status - \" + levelData.status);\r\n        console.log(\"Progress - \" + levelData.getLevelProgress());\r\n    }\r\n    \r\n\r\n    update(){\r\n        if(settingData == true)\r\n            if(downloading == false) {\r\n                this.setWorldsNames();\r\n                settingData = false;\r\n            }\r\n        \r\n        \r\n            //this.printProgress(this.activeLevelData);\r\n\r\n    }\r\n\r\n    setWorldsNames() {\r\n        this.springFest!.string = globalInformations.springFest!;\r\n        this.playfullCity!.string = globalInformations.playfullCity!;\r\n        this.easterVillage!.string = globalInformations.easterVillage!;\r\n        this.birthdayParty!.string = globalInformations.birthdayParty!;\r\n        this.christmasVillage!.string = globalInformations.christmasVillage!;\r\n        this.medievalTown!.string = globalInformations.medievalTown!;\r\n        this.happyStreet!.string = globalInformations.happyStreet!;\r\n        this.backToKindergarden!.string = globalInformations.backToKindergarden!;\r\n        this.undergroundChamber!.string = globalInformations.undergroundChamber!;\r\n        this.invisablePeopleCity!.string = globalInformations.invisablePeopleCity!;\r\n    }\r\n\r\n    findGeneralProgress(){\r\n        var generalProgress = 0;\r\n        console.log(\"GlobalManager.getInstance().levelsArray.length  \" + GlobalManager.getInstance().levelsArray.length);\r\n        \r\n        for (let index = 0; index < GlobalManager.getInstance().levelsArray.length; index++) {\r\n            //const element = array[index];\r\n            console.log(\"Level name + \" + GlobalManager.getInstance().levelsArray[index].sceneName);\r\n            console.log(\"Level status + \" + GlobalManager.getInstance().levelsArray[index].status);\r\n\r\n            if(GlobalManager.getInstance().levelsArray[index].status == levelStatus.finished)\r\n                generalProgress++;\r\n\r\n            \r\n            //if(GlobalManager.getInstance().levelsArray[index].status == levelStatus.unlocked) {\r\n            //    generalProgress = index;\r\n            //    return generalProgress;\r\n            //}\r\n\r\n            \r\n        }\r\n        console.log(\"General Progress u findGeneralProgress\" + generalProgress);\r\n        \r\n        return generalProgress;\r\n    }\r\n    \r\n}\r\n\r\n\r\n\r\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.4/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.4/manual/en/scripting/ccclass.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.4/manual/en/scripting/life-cycle-callbacks.html\r\n */\r\n"]}