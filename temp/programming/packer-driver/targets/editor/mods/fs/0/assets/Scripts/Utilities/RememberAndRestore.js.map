{"version":3,"sources":["file:///Users/aleksandarbedov/Documents/CocosCreator/tajanstvenesobe2/assets/Scripts/Utilities/RememberAndRestore.ts"],"names":["NodePosRot","_decorator","Component","Node","Vec3","Quat","RigidBody","Animation","Trigger1","ccclass","property","RememberAndRestore","start","animatedObjects","getComponent","isStatic","forEach","element","nodePosRot","node","position","rotation","objectsNodePosRot","push","restart","stop","setPosition","setRotation","clearVelocity","clearForces","triggersToRestart","animationPlayed","node1func","node1","active","node2func","node2","node3func","node3","node4func","node4","node5func","node5"],"mappings":"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","sourcesContent":["\nimport { _decorator, Component, Node, Vec3, Quat, RigidBody, Animation } from 'cc';\nimport { Trigger1 } from '../Goldberg/Trigger1';\nconst { ccclass, property } = _decorator;\n\n/**\n * Predefined variables\n * Name = RememberAndRestore\n * DateTime = Thu Mar 31 2022 13:41:55 GMT+0200 (Central European Summer Time)\n * Author = stickandrope\n * FileBasename = RememberAndRestore.ts\n * FileBasenameNoExtension = RememberAndRestore\n * URL = db://assets/Scripts/Utilities/RememberAndRestore.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/en/\n *\n */\n \n@ccclass('RememberAndRestore')\nexport class RememberAndRestore extends Component {\n    // [1]\n    // dummy = '';\n\n    \n    @property([Node])\n    animatedObjects: Node[] = [];\n\n    @property(Node)\n    node1!: Node;\n\n    @property(Node)\n    node2!: Node;\n\n    @property(Node)\n    node3!: Node;\n\n    @property(Node)\n    node4!: Node;\n\n    @property(Node)\n    node5!: Node;\n\n    objectsNodePosRot: NodePosRot[] = [];\n        \n    @property([Trigger1])\n    triggersToRestart: Trigger1[] = [];\n\n    start () {\n        this.animatedObjects[0].getComponent(RigidBody)!.isStatic = true;\n\n        this.animatedObjects.forEach(element => {\n            var nodePosRot = new NodePosRot;\n            nodePosRot.node = element;\n            nodePosRot.position = new Vec3( element.position);\n            nodePosRot.rotation = new Quat(element.rotation) ;\n\n            \n\n            this.objectsNodePosRot.push(nodePosRot);\n        });\n    }\n\n    restart() {\n        this.animatedObjects[0].getComponent(RigidBody)!.isStatic = false;\n\n        this.objectsNodePosRot.forEach(element => {\n            if( element.node.getComponent(Animation))\n                element.node.getComponent(Animation)?.stop();\n\n            element.node.setPosition(element.position!);\n            element.node.setRotation(element.rotation!);\n\n            if( element.node.getComponent(RigidBody)) {\n                element.node.getComponent(RigidBody)?.clearVelocity();\n                element.node.getComponent(RigidBody)?.clearForces();\n            }\n        });\n\n        this.triggersToRestart.forEach(element => {\n            element.animationPlayed = false;\n        });\n    }\n\n    node1func() {\n        this.node1.active = !this.node1.active;\n    }\n\n    node2func() {\n        this.node2.active = !this.node2.active;\n    }\n    node3func() {\n        this.node3.active = !this.node3.active;\n    }\n    node4func() {\n        this.node4.active = !this.node4.active;\n    }\n    node5func() {\n        this.node5.active = !this.node5.active;\n    }\n\n}\n\nexport class NodePosRot {\n    node!: Node;\n    position?: Vec3;\n\n    rotation? : Quat;\n\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.4/manual/en/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.4/manual/en/scripting/decorator.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.4/manual/en/scripting/life-cycle-callbacks.html\n */\n"]}