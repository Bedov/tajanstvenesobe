{"version":3,"sources":["file:///Users/aleksandarbedov/Documents/CocosCreator/tajanstvenesobe2/assets/Scripts/GameManager.ts"],"names":["LocalProgress","_decorator","Component","Node","director","Label","sys","JSONloader","LoadingHandler","ccclass","property","waka1","console","log","waka2","constructor","bar","worldProgress","GameStatuType","GameManager","String","Number","gameTutorial","getInstance","instance","setProgress","tempProgress","getProgress","onLoad","jsonLoader","node","getComponent","loadingHandler","typeInputResult","Canvas","getChildByName","trophies","Progress","setPlatformType","setTheKeyboard","isMobileOrTablet","active","getTaskManager","TaskManager","start","pushMeToAudioArray","audioComponent","audioArray","push","setVolume","volume","length","forEach","element","name","inputKeyboard","settingsUI","os","OS","ANDROID","IOS","platform","Platform","MOBILE_BROWSER","backToMenu","loadScene"],"mappings":";;;6GAmBcA,a;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAlBLC,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,G,OAAAA,G;;AAe9CC,MAAAA,U,iBAAAA,U;;AACAC,MAAAA,c,iBAAAA,c;;;;;;;OAfH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;+BAIcD,a,GAAN,MAAMA,aAAN,CAAoB;AAGZ,eAALW,KAAK,GAAG;AACX;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACH;;AAEDC,QAAAA,KAAK,GAAG;AACJF,UAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AAED;;AAEHE,QAAAA,WAAW,GAAG;AAAA,iDAZE,CAYF;;AACVH,UAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACH;;AAfuB,O,GAoB5B;;;qBAEMG,G,GAAM,IAAIhB,aAAJ,E;;AAGZ;AACA;AAGIiB,MAAAA,a,GAAgB,C;;iBAEPC,a;AAAAA,QAAAA,a,CAAAA,a;AAAAA,QAAAA,a,CAAAA,a;AAAAA,QAAAA,a,CAAAA,a;SAAAA,a,6BAAAA,a;;6BAOAC,W,WADZV,OAAO,CAAC,aAAD,C,UAYHC,QAAQ,CAACP,IAAD,C,UAGRO,QAAQ,CAACP,IAAD,C,UAGRO,QAAQ,CAACP,IAAD,C,UAGRO,QAAQ,CAACP,IAAD,C,UAGRO,QAAQ,CAACU,MAAD,C,UAGRV,QAAQ,CAACU,MAAD,C,UAGRV,QAAQ,CAACW,MAAD,C,8CA9Bb,MACaF,WADb,SACiCjB,SADjC,CAC2C;AAAA;AAAA;;AAAA,8CAETgB,aAAa,CAACI,YAFL;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,6CAgClB,GAhCkB;;AAAA,oDAiCV,KAjCU;;AAAA,oDAmCV,KAnCU;;AAAA,yDAqCN,CArCM;;AAAA,wDAuCP,CAvCO;;AAAA,8CAyCL,EAzCK;;AAAA;AAAA;;AA6Cd,eAAXC,WAAW,GAAgB;AACrC,cAAI,CAAC,KAAKC,QAAV,EAAoB;AAChBL,YAAAA,WAAW,CAACK,QAAZ,GAAuB,IAAIL,WAAJ,EAAvB;AAEH;;AACD,iBAAOA,WAAW,CAACK,QAAnB;AACH;;AAIDC,QAAAA,WAAW,CAACC,YAAD,EAAsB;AAC7BT,UAAAA,aAAa,GAAGS,YAAhB;AACH;;AAEDC,QAAAA,WAAW,GAAG;AACV,iBAAOV,aAAP;AACH;;AAEDW,QAAAA,MAAM,GAAG;AAAA;;AACLT,UAAAA,WAAW,CAACK,QAAZ,GAAuB,IAAvB;AACA,eAAKK,UAAL,GAAkB,KAAKC,IAAL,CAAUC,YAAV;AAAA;AAAA,uCAAlB;AACA,eAAKC,cAAL,GAAsB,KAAKF,IAAL,CAAUC,YAAV;AAAA;AAAA,+CAAtB;AAEA,eAAKE,eAAL,GAAuB,sBAAKC,MAAL,uFAAaC,cAAb,CAA4B,iBAA5B,2GAAgDA,cAAhD,CAA+D,WAA/D,mFAA6EA,cAA7E,CAA4F,QAA5F,GAAuGJ,YAAvG,CAAoH1B,KAApH,CAAvB;AAEA,eAAK+B,QAAL,GAAgB,KAAKF,MAAL,CAAaC,cAAb,CAA4B,UAA5B,EAAyCA,cAAzC,CAAwD,eAAxD,CAAhB;AAEA,eAAKE,QAAL,GAAgBpB,aAAhB;AAEA,eAAKqB,eAAL;AACH;;AAEDC,QAAAA,cAAc,GAAG;AACb,cAAG,KAAKC,gBAAR,EAA0B;AAEtB,iBAAKN,MAAL,CAAaC,cAAb,CAA4B,iBAA5B,EAAgDA,cAAhD,CAA+D,SAA/D,EAA2EM,MAA3E,GAAoF,IAApF;AACA,iBAAKP,MAAL,CAAaC,cAAb,CAA4B,iBAA5B,EAAgDA,cAAhD,CAA+D,WAA/D,EAA6EM,MAA7E,GAAsF,KAAtF;AAEA,iBAAKR,eAAL,GAAuB,KAAKC,MAAL,CAAaC,cAAb,CAA4B,iBAA5B,EAAgDA,cAAhD,CAA+D,SAA/D,EAA2EA,cAA3E,CAA0F,QAA1F,EAAqGJ,YAArG,CAAkH1B,KAAlH,CAAvB;AAEH,WAPD,MAOO;AACH,iBAAK6B,MAAL,CAAaC,cAAb,CAA4B,iBAA5B,EAAgDA,cAAhD,CAA+D,SAA/D,EAA2EM,MAA3E,GAAoF,KAApF;AACA,iBAAKP,MAAL,CAAaC,cAAb,CAA4B,iBAA5B,EAAgDA,cAAhD,CAA+D,WAA/D,EAA6EM,MAA7E,GAAsF,IAAtF;AAEA,iBAAKR,eAAL,GAAuB,KAAKC,MAAL,CAAaC,cAAb,CAA4B,iBAA5B,EAAgDA,cAAhD,CAA+D,WAA/D,EAA6EA,cAA7E,CAA4F,QAA5F,EAAuGJ,YAAvG,CAAoH1B,KAApH,CAAvB;AACH;AACJ;;AAEDqC,QAAAA,cAAc,GAAE;AACZ,iBAAO,KAAKC,WAAZ;AACH;;AAEDC,QAAAA,KAAK,GAAI,CAIR;;AAEDC,QAAAA,kBAAkB,CAACC,cAAD,EAA8B;AAAA;;AAC5C,mCAAKC,UAAL,sEAAiBC,IAAjB,CAAsBF,cAAtB;AACH;;AAEDG,QAAAA,SAAS,CAACC,MAAD,EAAgB;AAAA;;AACrBtC,UAAAA,OAAO,CAACC,GAAR,CAAY,kCAAa,KAAKkC,UAAlB,sDAAa,kBAAiBI,MAA9B,CAAZ;AAEA,oCAAKJ,UAAL,wEAAiBK,OAAjB,CAAyBC,OAAO,IAAI;AAChCzC,YAAAA,OAAO,CAACC,GAAR,CAAY,aAAawC,OAAO,CAACC,IAArB,GAA4B,YAA5B,GAA2CD,OAAO,CAACH,MAA/D;AAEH,WAHD;AAKA,oCAAKH,UAAL,wEAAiBK,OAAjB,CAAyBC,OAAO,IAAI;AAChCA,YAAAA,OAAO,CAACH,MAAR,GAAiBA,MAAjB;AACAtC,YAAAA,OAAO,CAACC,GAAR,CAAY,aAAcwC,OAAO,CAACH,MAAlC;AACH,WAHD;AAIH;;AAEDZ,QAAAA,eAAe,GAAG;AACd,eAAKiB,aAAL,GAAqB,KAAKrB,MAAL,CAAaC,cAAb,CAA4B,UAA5B,EAAyCA,cAAzC,CAAwD,UAAxD,CAArB;AACA,eAAKqB,UAAL,GAAkB,KAAKtB,MAAL,CAAaC,cAAb,CAA4B,UAA5B,CAAlB;AAEA,cAAG7B,GAAG,CAACmD,EAAJ,IAAUnD,GAAG,CAACoD,EAAJ,CAAOC,OAAjB,IAA4BrD,GAAG,CAACmD,EAAJ,IAAUnD,GAAG,CAACoD,EAAJ,CAAOE,GAA7C,IAAoDtD,GAAG,CAACuD,QAAJ,IAAgBvD,GAAG,CAACwD,QAAJ,CAAaC,cAApF,EACI,KAAKvB,gBAAL,GAAwB,IAAxB;AAEJ,eAAKD,cAAL;AACH;;AAIDyB,QAAAA,UAAU,GAAG;AACT5D,UAAAA,QAAQ,CAAC6D,SAAT,CAAmB,UAAnB;AACH,SAvIsC,CAyIvC;AACA;AACA;;;AA3IuC,O;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;iBA8BpB,C","sourcesContent":["\r\nimport { _decorator, Component, Node, director, Label, sys, AudioSource } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n * Predefined variables\r\n * Name = GameManager\r\n * DateTime = Tue Nov 30 2021 13:26:28 GMT+0100 (Central European Standard Time)\r\n * Author = stickandrope\r\n * FileBasename = GameManager.ts\r\n * FileBasenameNoExtension = GameManager\r\n * URL = db://assets/Scripts/GameManager.ts\r\n * ManualUrl = https://docs.cocos.com/creator/3.3/manual/en/\r\n *\r\n\r\n */\r\nimport { JSONloader } from \"./RemoteScripts/JSONloader\";\r\nimport { LoadingHandler } from './RemoteScripts/LoadingHandler';\r\n \r\nexport  class LocalProgress {\r\n    worldProgress = 0;\r\n\r\n    static waka1() {\r\n        //throw new Error('Method not implemented.');\r\n        console.log(\"Jel se ovo desi nekad1 \");\r\n    }\r\n    \r\n    waka2() {\r\n        console.log(\"Jel se ovo desi nekad2\");\r\n        \r\n      }\r\n\r\n    constructor() {\r\n        console.log(\"Jel se ovo desi nekad3 \");\r\n    }\r\n\r\n    }\r\n\r\n\r\n//let localProgress1 = new LocalProgress();\r\n\r\nconst bar = new LocalProgress();\r\nexport { bar };\r\n\r\n//var localProgress2 = new LocalProgress;\r\n//localProgress2.waka2();\r\n\r\n\r\nvar worldProgress = 0;\r\n\r\n export enum GameStatuType {\r\n    gamePaused =    0,\r\n    gameActive =   1,\r\n    gameTutorial =   2,\r\n    }\r\n\r\n@ccclass('GameManager')\r\nexport class GameManager extends Component {\r\n\r\n    gameStatus? : GameStatuType = GameStatuType.gameTutorial;\r\n    typeInputResult? : Label ;\r\n    jsonLoader? : JSONloader ;\r\n    loadingHandler? : LoadingHandler;\r\n\r\n    inputKeyboard? : Node ;\r\n\r\n    settingsUI? : Node;\r\n\r\n    @property(Node)\r\n    Canvas?: Node;\r\n\r\n    @property(Node)\r\n    WorldRoot?: Node;\r\n\r\n    @property(Node)\r\n    TaskManager?: Node;\r\n\r\n    @property(Node)\r\n    Player?: Node;\r\n\r\n    @property(String)\r\n    LevelName?: String;\r\n\r\n    @property(String)\r\n    LanguageName?: String;\r\n\r\n    @property(Number)\r\n    Progress: Number = 0;\r\n\r\n    moveSpeed : number = 1.5;\r\n    invertedRotation : boolean = false;\r\n\r\n    isMobileOrTablet : boolean = false;\r\n\r\n    taskInProgressManager : number = 1;\r\n\r\n    downloadedCheckpoint : number = 0;\r\n\r\n    audioArray?: Array<AudioSource> = [];\r\n\r\n    trophies? : Node ;\r\n\r\n    public static getInstance(): GameManager {\r\n        if (!this.instance) {\r\n            GameManager.instance = new GameManager();\r\n            \r\n        }\r\n        return GameManager.instance;\r\n    }\r\n\r\n    static instance: GameManager;\r\n\r\n    setProgress(tempProgress: number){\r\n        worldProgress = tempProgress;\r\n    }\r\n\r\n    getProgress() {\r\n        return worldProgress;\r\n    }\r\n\r\n    onLoad() {\r\n        GameManager.instance = this;\r\n        this.jsonLoader = this.node.getComponent(JSONloader)!;\r\n        this.loadingHandler = this.node.getComponent(LoadingHandler)!;\r\n\r\n        this.typeInputResult = this.Canvas?.getChildByName(\"GenericUI-Input\")?.getChildByName(\"EditBoxPC\")?.getChildByName(\"Result\")!.getComponent(Label)!;\r\n    \r\n        this.trophies = this.Canvas!.getChildByName(\"BottomUI\")!.getChildByName(\"TrofejiLayout\")!;\r\n\r\n        this.Progress = worldProgress;\r\n\r\n        this.setPlatformType();\r\n    }\r\n\r\n    setTheKeyboard() {\r\n        if(this.isMobileOrTablet) {\r\n\r\n            this.Canvas!.getChildByName(\"GenericUI-Input\")!.getChildByName(\"EditBox\")!.active = true;\r\n            this.Canvas!.getChildByName(\"GenericUI-Input\")!.getChildByName(\"EditBoxPC\")!.active = false;\r\n\r\n            this.typeInputResult = this.Canvas!.getChildByName(\"GenericUI-Input\")!.getChildByName(\"EditBox\")!.getChildByName(\"Result\")!.getComponent(Label)!\r\n\r\n        } else {\r\n            this.Canvas!.getChildByName(\"GenericUI-Input\")!.getChildByName(\"EditBox\")!.active = false;\r\n            this.Canvas!.getChildByName(\"GenericUI-Input\")!.getChildByName(\"EditBoxPC\")!.active = true;\r\n\r\n            this.typeInputResult = this.Canvas!.getChildByName(\"GenericUI-Input\")!.getChildByName(\"EditBoxPC\")!.getChildByName(\"Result\")!.getComponent(Label)!\r\n        }\r\n    }\r\n\r\n    getTaskManager(){\r\n        return this.TaskManager;\r\n    }\r\n\r\n    start () {\r\n       \r\n       \r\n        \r\n    }\r\n\r\n    pushMeToAudioArray(audioComponent: AudioSource) {\r\n        this.audioArray?.push(audioComponent);\r\n    }\r\n\r\n    setVolume(volume: number){\r\n        console.log(\"Lenght \" +  this.audioArray?.length );\r\n        \r\n        this.audioArray?.forEach(element => {\r\n            console.log(\"element \" + element.name + \"  VOLUME: \" + element.volume);\r\n            \r\n        });\r\n        \r\n        this.audioArray?.forEach(element => {\r\n            element.volume = volume;\r\n            console.log(\"Volumen \" +  element.volume);\r\n        });\r\n    }\r\n\r\n    setPlatformType() {\r\n        this.inputKeyboard = this.Canvas!.getChildByName(\"BottomUI\")!.getChildByName(\"Keyboard\")!;\r\n        this.settingsUI = this.Canvas!.getChildByName(\"Settings\")!;\r\n \r\n        if(sys.os == sys.OS.ANDROID || sys.os == sys.OS.IOS || sys.platform == sys.Platform.MOBILE_BROWSER) \r\n            this.isMobileOrTablet = true;\r\n\r\n        this.setTheKeyboard();\r\n    }\r\n\r\n\r\n\r\n    backToMenu() {\r\n        director.loadScene(\"MainMenu\");\r\n    }\r\n\r\n    // update (deltaTime: number) {\r\n    //     // [4]\r\n    // }\r\n}\r\n\r\n\r\n\r\n"]}