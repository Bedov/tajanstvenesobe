{"version":3,"sources":["file:///Users/aleksandarbedov/Documents/CocosCreator/tajanstvenesobe2/assets/Scripts/Goldberg/ButtonColorsLogic.ts"],"names":["_decorator","Component","Material","MeshRenderer","globalInformations","GlobalManager","LevelButtonClicked","ccclass","property","ButtonColorsLogic","start","console","log","buttonsArray","push","node","getChildByName","refreshColors","globalProgress","setSceneNamesToButtons","levelArray","getInstance","levelsArray","index","length","getComponent","levelName","String","sceneName","progress","element","setMaterial","lockedMaterial","lockedButton","finishedMaterial","Number","unlockedMaterial","lockAllButtons","forEach"],"mappings":"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","sourcesContent":["\nimport { _decorator, Component, Node, find, Material, Mesh, MeshRenderer, Button } from 'cc';\nimport { globalInformations, GlobalManager } from '../GlobalManager';\nimport { LevelButtonClicked } from '../UI/LevelButtoClicked';\nconst { ccclass, property } = _decorator;\n \n@ccclass('ButtonColorsLogic')\nexport class ButtonColorsLogic extends Component {\n\n    @property(Material)\n    lockedMaterial?: Material ;\n\n    @property(Material)\n    unlockedMaterial?: Material ;\n\n    @property(Material)\n    finishedMaterial?: Material ;\n\n    button1? : Node; \n    button2? : Node; \n    button3? : Node; \n    button4? : Node; \n    button5? : Node; \n\n    buttonsArray : Array<Node> = [];\n\n    start () {\n        console.log(\"!!!!\");\n\n        this.buttonsArray!.push(this.node.getChildByName(\"1\")!);\n        this.buttonsArray!.push(this.node.getChildByName(\"2\")!);\n        this.buttonsArray!.push(this.node.getChildByName(\"3\")!);\n        this.buttonsArray!.push(this.node.getChildByName(\"4\")!);\n        this.buttonsArray!.push(this.node.getChildByName(\"5\")!);\n\n        this.refreshColors( globalInformations.globalProgress);\n\n        this.setSceneNamesToButtons();\n    }\n\n    setSceneNamesToButtons() {\n        var levelArray = GlobalManager.getInstance().levelsArray;\n\n        for (let index = 0; index < levelArray.length; index++) {\n            \n            this.buttonsArray[index].getComponent(LevelButtonClicked)!.levelName = String (levelArray[index].sceneName);\n        }\n\n        console.log(\"!!!! String (levelArray[index].sceneName)\" + String (levelArray[1].sceneName));\n        \n    }\n\n    refreshColors(progress: Number) {\n        for (let index = 0; index < this.buttonsArray.length; index++) {\n            const element = this.buttonsArray[index].getComponent(MeshRenderer)!.setMaterial(this.lockedMaterial!, 0);\n        }\n\n        for (let index = 0; index < progress; index++) {\n            this.buttonsArray[index].getComponent(LevelButtonClicked)!.lockedButton = false;\n            const element = this.buttonsArray[index].getComponent(MeshRenderer)!.setMaterial(this.finishedMaterial!, 0);\n        }\n\n        this.buttonsArray[Number(progress)].getComponent(LevelButtonClicked)!.lockedButton = false;\n        this.buttonsArray[Number(progress)].getComponent(MeshRenderer)!.setMaterial(this.unlockedMaterial!, 0);\n    }\n\n    lockAllButtons() {\n        this.buttonsArray.forEach(element => {\n            element.getComponent(LevelButtonClicked)!.lockedButton = true;\n        });\n    }\n\n    // update (deltaTime: number) {\n    //     // [4]\n    // }\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.4/manual/en/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.4/manual/en/scripting/decorator.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.4/manual/en/scripting/life-cycle-callbacks.html\n */\n"]}