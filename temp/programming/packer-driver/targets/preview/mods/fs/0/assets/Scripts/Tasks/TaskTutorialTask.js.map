{"version":3,"sources":["file:///Users/aleksandarbedov/Documents/CocosCreator/tajanstvenesobe2/assets/Scripts/Tasks/TaskTutorialTask.ts"],"names":["_decorator","Enum","ScriptEffects","GenericUI","DetectTypeOfDevice","Task","GameManager","GameStatuType","JSONimage","JSONquestTekst","ccclass","property","TypeOfTask","TaskTutorialTask","String","type","start","taskType","tekstType","getTekstRemotely","imageType","getImageRemotely","remoteName","getInstance","jsonLoader","fetchQuestTekst","toString","tekstObject","fetchImageQuestTekst","imageObject","update","taskManager","canvas","getComponent","_moveTutorialEndBool","_lookTutorialEndBool","executed","showUI","gameStatus","gamePaused","showTask","genericUI","active","fadeInActive","turnOnGenericTaskJSONwithReturn","genericUIimage","turnOnGenericTaskJSONimagewithReturn","subtitle","fadeOutActive"],"mappings":"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","sourcesContent":["\r\nimport { _decorator, Component, Node, director, Collider, game, Canvas, Enum } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nimport { TaskManager } from \"./TaskManager\";\r\nimport { ScriptEffects } from \"../Utilities/ScriptEffects\";\r\nimport { GenericUI } from \"../Utilities/GenericUI\";\r\nimport { DetectTypeOfDevice } from \"../DetectTypeOfDevice\";\r\nimport { Task } from './Task';\r\nimport { GameManager, GameStatuType } from '../GameManager';\r\nimport { JSONimage, JSONquestTekst } from '../RemoteScripts/JSONloader';\r\n\r\nexport enum TypeOfTask {\r\n    tekstType=    0,\r\n    imageType=   1,\r\n    }\r\n\r\n@ccclass('TaskTutorialTask')\r\nexport class TaskTutorialTask extends Task {\r\n\r\n    myTimeHasCome = true;\r\n\r\n    @property(String)\r\n    remoteName!: String;\r\n\r\n    \r\n    @property ({type:Enum(TypeOfTask)})\r\n    taskType:TypeOfTask = TypeOfTask.tekstType;\r\n\r\n    tekstObject: JSONquestTekst = new JSONquestTekst ;\r\n    imageObject: JSONimage = new JSONimage ;\r\n\r\n    start(){\r\n        if(this.taskType == TypeOfTask.tekstType)\r\n            this.getTekstRemotely();\r\n        if(this.taskType == TypeOfTask.imageType)\r\n            this.getImageRemotely();\r\n     \r\n    }\r\n\r\n    getTekstRemotely() {\r\n        if(this.remoteName != \"\") {\r\n            GameManager.getInstance().jsonLoader?.fetchQuestTekst(this.remoteName.toString(), this.tekstObject)!;\r\n        }\r\n    }\r\n\r\n    getImageRemotely() {\r\n        if(this.remoteName != \"\") {\r\n            GameManager.getInstance().jsonLoader?.fetchImageQuestTekst(this.remoteName.toString(), this.imageObject)!;\r\n        }\r\n    }\r\n\r\n    update() {\r\n        if(this.taskManager.canvas?.getComponent(DetectTypeOfDevice)?._moveTutorialEndBool && this.taskManager.canvas?.getComponent(DetectTypeOfDevice)?._lookTutorialEndBool && !this.executed ) {\r\n            this.showUI();\r\n            GameManager.getInstance().gameStatus = GameStatuType.gamePaused;\r\n        }\r\n    }\r\n\r\n    showUI (){\r\n        super.showTask();\r\n        \r\n        if(this.taskType == TypeOfTask.tekstType) {\r\n            this.taskManager.genericUI!.active = true;\r\n            this.taskManager.genericUI!.getComponent(ScriptEffects)!.fadeInActive();\r\n            this.taskManager.genericUI!.getComponent(GenericUI)!.turnOnGenericTaskJSONwithReturn(this.tekstObject, this); \r\n        }\r\n        if(this.taskType == TypeOfTask.imageType) {\r\n            this.taskManager.genericUIimage!.active = true;\r\n            this.taskManager.genericUIimage!.getComponent(ScriptEffects)!.fadeInActive();\r\n            this.taskManager.genericUIimage!.getComponent(GenericUI)!.turnOnGenericTaskJSONimagewithReturn(this.imageObject, this); \r\n        }\r\n\r\n        this.taskManager.subtitle!.getComponent(ScriptEffects)?.fadeOutActive();\r\n\r\n\r\n    }\r\n\r\n \r\n\r\n\r\n}\r\n\r\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.3/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.3/manual/en/scripting/ccclass.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.3/manual/en/scripting/life-cycle-callbacks.html\r\n */\r\n"]}