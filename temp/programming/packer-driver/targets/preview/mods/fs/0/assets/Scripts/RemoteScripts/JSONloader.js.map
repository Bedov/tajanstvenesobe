{"version":3,"sources":["file:///Users/aleksandarbedov/Documents/CocosCreator/tajanstvenesobe2/assets/Scripts/RemoteScripts/JSONloader.ts"],"names":["JSONtask2","JSONtask1","JSONobject","JSONquestTekst","JSONimage","_decorator","Component","assetManager","AudioClip","SpriteFrame","Texture2D","GameManager","ccclass","property","JSONloader","onLoad","gameManager","node","getComponent","fetchQuestions","folderURL","taskJSON","remoteUrlRoot","originUrl","LanguageName","LevelName","index","questionURL","toString","returnQuestion","pop","returnQuestionInput","audioURL","loadRemote","err","textAsset","parsedJSON","JSON","parse","question","tacanOdgovor","undefined","audioClip","questionAudio","error","console","log","audioIsLoaded","remoteUrl","tempTask","netacanOdgovor1","netacanOdgovor2","push","fetchQuestTekst","questURL","tekstObject","quest","questAudio","fetchImageQuestTekst","imageObject","rootURL","fetchedImage","spriteFrame","texture","image","questImage","constructor","type","tacanOdgovorAudio"],"mappings":"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","sourcesContent":["\r\nimport { _decorator, Component, Node, JsonAsset, assetManager, Game, AudioClip, AudioSource, SpriteFrame, ImageAsset, Texture2D, Sprite} from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n//const fs = require('fs');\r\n//import{  fs} from 'fs-extra';\r\n//https://docs.cocos.com/creator/3.1/manual/en/asset/dynamic-load-resources.html\r\n\r\n/**\r\n * Predefined variables\r\n * Name = JSONloader\r\n * DateTime = Fri Nov 26 2021 15:46:48 GMT+0100 (Central European Standard Time)\r\n * Author = stickandrope\r\n * FileBasename = JSONloader.ts\r\n * FileBasenameNoExtension = JSONloader\r\n * URL = db://assets/Scripts/RemoteScripts/JSONloader.ts\r\n * ManualUrl = https://docs.cocos.com/creator/3.3/manual/en/\r\n *\r\n */\r\n\r\n//var static instance: JSONloader;\r\n \r\nimport { GameManager } from \"../GameManager\";\r\nimport { GlobalManager } from '../GlobalManager';\r\nimport { Task } from '../Tasks/Task';\r\n\r\n@ccclass('JSONloader')\r\nexport class JSONloader extends Component {\r\n    \r\n    gameManager? : GameManager ;\r\n\r\n    originUrl = \"https://abedov.com/json\"; \r\n\r\n    onLoad(){\r\n\r\n        this.gameManager = this.node.getComponent(GameManager)!;\r\n        \r\n    }\r\n\r\n\r\n    fetchQuestions(folderURL: String, taskJSON: Array<JSONtask1>) {\r\n\r\n        let remoteUrlRoot = this.originUrl + \"/\" + this.gameManager?.LanguageName + \"/\" + this.gameManager?.LevelName + \"/\" + folderURL + \"/\" ;\r\n\r\n\r\n        for (let index = 1; index < 10; index++) {\r\n            //console.log(\"URL: \" + remoteUrlRoot + index.toString() + \".txt\");\r\n            var questionURL = remoteUrlRoot + index.toString() + \".txt\";\r\n\r\n            if(!this.returnQuestion(remoteUrlRoot, questionURL, taskJSON, index)) {\r\n                taskJSON.pop();\r\n                \r\n                index = 13;\r\n            }\r\n                \r\n        }\r\n    }\r\n\r\n    returnQuestionInput(questionURL: String, taskJSON: JSONtask2) {\r\n\r\n\r\n        let remoteUrlRoot = this.originUrl + \"/\" + this.gameManager?.LanguageName + \"/\" + this.gameManager?.LevelName + \"/\" + questionURL;\r\n        var audioURL = this.originUrl + \"/\" + this.gameManager?.LanguageName + \"/\" + this.gameManager?.LevelName + \"/\";\r\n\r\n        try {\r\n\r\n             assetManager.loadRemote(remoteUrlRoot.toString(), function (err, textAsset) {\r\n\r\n                 try {\r\n                    var parsedJSON = JSON.parse(textAsset.toString());\r\n                    taskJSON.question = parsedJSON[\"question\"];\r\n                    taskJSON.tacanOdgovor = parsedJSON[\"tacanOdgovor\"];\r\n                    \r\n                    \r\n                    \r\n                    if( parsedJSON[\"questionAudio\"] != undefined)  {\r\n\r\n                        try {\r\n                            assetManager.loadRemote<AudioClip>(audioURL + parsedJSON[\"questionAudio\"], (AudioClip), (err, audioClip) =>  {\r\n                                taskJSON.questionAudio =  audioClip ;\r\n                            });\r\n                            \r\n                        } catch (error) {\r\n                            console.log(\"Zvuk nije dobro ucitan\");\r\n                            taskJSON.audioIsLoaded = false;\r\n                        } \r\n                    } else \r\n                        console.log(\"Ne postoje zvukovi za ovu putanju\");\r\n\r\n\r\n                } catch (error) {\r\n                    console.log(\"Nisam nasao trazeno polje za parsiranje\" + error );\r\n                    return false;\r\n                }console.log(\" BITNOOO  \" + taskJSON.questionAudio);\r\n            });\r\n            return true;\r\n        } catch (error) {\r\n            console.log(\"Nisam nasao trazenu adresu za parsiranje 2\" + error );\r\n            return false;\r\n        }\r\n        \r\n\r\n    }\r\n\r\n    returnQuestion(remoteUrlRoot: string, questionURL: string, taskJSON: Array<JSONtask1>, index : number) {\r\n\r\n        \r\n        let remoteUrl = this.originUrl + \"/\" + this.gameManager?.LevelName  + \"/\" + this.gameManager?.LanguageName + \"/\" + questionURL + \".txt\";\r\n\r\n        try {\r\n\r\n             assetManager.loadRemote(questionURL, function (err, textAsset) {\r\n\r\n                 try {\r\n                    var tempTask = new JSONtask1;\r\n                    var parsedJSON = JSON.parse(textAsset.toString());\r\n                    tempTask.question = parsedJSON[\"question\"];\r\n                    tempTask.tacanOdgovor = parsedJSON[\"tacanOdgovor\"];\r\n                    tempTask.netacanOdgovor1 = parsedJSON[\"netacanOdgovor1\"];\r\n                    tempTask.netacanOdgovor2 = parsedJSON[\"netacanOdgovor2\"];\r\n                    \r\n                    if( parsedJSON[\"questionAudio\"] != undefined)  {\r\n\r\n                        try {\r\n                            assetManager.loadRemote<AudioClip>(remoteUrlRoot + parsedJSON[\"questionAudio\"], (AudioClip), (err, audioClip) =>  {\r\n                                tempTask.questionAudio =  audioClip ;\r\n                            });\r\n\r\n                        } catch (error) {\r\n                            console.log(\"Zvuk nije dobro ucitan\");\r\n                            tempTask.audioIsLoaded = false;\r\n                        } \r\n                    } else \r\n                        console.log(\"Ne postoje zvukovi za ovu putanju\");\r\n                        \r\n                    //RAZMISLITI JOS\r\n                    if(tempTask.question != undefined)\r\n                        taskJSON.push(tempTask);\r\n\r\n                        /*\r\n                    console.log(\"Stas to pojo: \" + parsedJSON[\"question\"].toString());\r\n                    console.log(\"Stas to pojo: \" + parsedJSON[\"tacanOdgovor\"].toString());\r\n                    console.log(\"Stas to pojo: \" + parsedJSON[\"netacanOdgovor1\"].toString());\r\n                    console.log(\"Stas to pojo: \" + parsedJSON[\"netacanOdgovor2\"].toString());\r\n\r\n                    console.log(\"Stas to pojo: \" + parsedJSON[\"questionAudio\"].toString());\r\n                    console.log(\"Stas to pojo: \" + parsedJSON[\"tacanOdgovorAudio\"].toString());\r\n                    console.log(\"Stas to pojo: \" + parsedJSON[\"netacanOdgovor1Audio\"].toString());\r\n                    console.log(\"Stas to pojo: \" + parsedJSON[\"netacanOdgovor2Audio\"].toString());\r\n                    */\r\n                } catch (error) {\r\n                    console.log(\"Nisam nasao trazeno polje za parsiranje\" + error );\r\n                    return false;\r\n                }\r\n            });\r\n            return true;\r\n        } catch (error) {\r\n            console.log(\"Nisam nasao trazenu adresu za parsiranje 2\" + error );\r\n            return false;\r\n        }\r\n        \r\n\r\n    }\r\n\r\n    fetchQuestTekst(questURL: string, tekstObject: JSONquestTekst) {\r\n\r\n        let remoteUrlRoot = this.originUrl + \"/\" + this.gameManager?.LanguageName + \"/\" + this.gameManager?.LevelName + \"/\" + questURL ;\r\n        var audioURL = this.originUrl + \"/\" + this.gameManager?.LanguageName + \"/\" + this.gameManager?.LevelName + \"/\";\r\n        //let questURLfull = remoteUrlRoot \r\n\r\n        try {\r\n\r\n            assetManager.loadRemote(remoteUrlRoot, function (err, textAsset) {\r\n\r\n                try {\r\n\r\n                   var parsedJSON = JSON.parse(textAsset.toString());\r\n\r\n                   tekstObject.quest = parsedJSON[\"quest\"];\r\n                   \r\n                   if( parsedJSON[\"questAudio\"] != undefined)  {\r\n                        \r\n                       try {\r\n                           assetManager.loadRemote<AudioClip>(audioURL + parsedJSON[\"questAudio\"], (AudioClip), (err, audioClip) =>  {\r\n                            tekstObject.questAudio =  audioClip ;\r\n                           });\r\n                        \r\n                       } catch (error) {\r\n                           console.log(\"Zvuk nije dobro ucitan\");\r\n                           tekstObject.audioIsLoaded = false;\r\n                       } \r\n                   } else \r\n                       console.log(\"Ne postoje zvukovi za ovu putanju\");\r\n\r\n\r\n               \r\n               } catch (error) {\r\n                   console.log(\"Nisam nasao trazeno polje za parsiranje\" + error );\r\n                   return false;\r\n               }\r\n           });\r\n           return true;\r\n       } catch (error) {\r\n           console.log(\"Nisam nasao trazenu adresu za parsiranje 2\" + error );\r\n           return false;\r\n       }\r\n    }\r\n\r\n    \r\n    fetchImageQuestTekst(questURL: string, imageObject: JSONimage) {\r\n\r\n        let remoteUrlRoot = this.originUrl + \"/\" + this.gameManager?.LanguageName + \"/\" + this.gameManager?.LevelName + \"/\" + questURL ;\r\n        var rootURL = this.originUrl + \"/\" + this.gameManager?.LanguageName + \"/\" + this.gameManager?.LevelName + \"/\";\r\n        //let questURLfull = remoteUrlRoot \r\n\r\n        try {\r\n\r\n            assetManager.loadRemote(remoteUrlRoot, function (err, textAsset) {\r\n\r\n                try {\r\n\r\n                   var parsedJSON = JSON.parse(textAsset.toString());\r\n\r\n                   imageObject.quest = parsedJSON[\"quest\"];\r\n                   \r\n                   if( parsedJSON[\"questAudio\"] != undefined)  {\r\n\r\n                       try {\r\n                           assetManager.loadRemote<AudioClip>(rootURL + parsedJSON[\"questAudio\"], (AudioClip), (err, audioClip) =>  {\r\n                            imageObject.questAudio =  audioClip ;\r\n                           });\r\n                        \r\n                       } catch (error) {\r\n                           console.log(\"Zvuk nije dobro ucitan\");\r\n                           imageObject.audioIsLoaded = false;\r\n                       } \r\n                   } else \r\n                       console.log(\"Ne postoje zvukovi za ovu putanju\");\r\n\r\n\r\n                    if( parsedJSON[\"questImage\"] != undefined)  {\r\n\r\n                        try {\r\n                            assetManager.loadRemote<ImageAsset>(rootURL + parsedJSON[\"questImage\"], (err, fetchedImage) =>  {\r\n                                console.log(\"Sta skidam \" + rootURL + parsedJSON[\"questImage\"]);\r\n                                \r\n                                const spriteFrame = new SpriteFrame();\r\n                                const texture = new Texture2D();\r\n                                texture.image = fetchedImage;\r\n                                spriteFrame.texture = texture;\r\n                                imageObject.questImage = spriteFrame ;\r\n                            });\r\n                         \r\n                        } catch (error) {\r\n                            console.log(\"Slika nije dobro ucitana\");\r\n                            imageObject.audioIsLoaded = false;\r\n                        } \r\n                    } else \r\n                        console.log(\"Ne postoji slika za ovu putanju\");\r\n\r\n               \r\n               } catch (error) {\r\n                   console.log(\"Nisam nasao trazeno polje za parsiranje\" + error );\r\n                   return false;\r\n               }\r\n           });\r\n           return true;\r\n       } catch (error) {\r\n           console.log(\"Nisam nasao trazenu adresu za parsiranje 2\" + error );\r\n           return false;\r\n       }\r\n\r\n       \r\n    }\r\n\r\n    \r\n    \r\n}\r\n\r\nexport class JSONtask2 {\r\n    \r\n    type?: string;\r\n    question?: string;\r\n    questionAudio? : AudioClip;\r\n    tacanOdgovor?: string;\r\n    tacanOdgovorAudio? : AudioClip;\r\n\r\n    audioIsLoaded? : boolean;\r\n\r\n    constructor( ) {\r\n        this.type = \"\";\r\n        this.question = \"\";\r\n        this.questionAudio = undefined;\r\n        this.tacanOdgovor = \"\";\r\n        this.tacanOdgovorAudio = undefined;\r\n\r\n        this.audioIsLoaded = true;\r\n    }\r\n\r\n}\r\n\r\nexport class JSONtask1 {\r\n    \r\n    type?: string;\r\n    question?: string;\r\n    questionAudio? : AudioClip;\r\n    tacanOdgovor?: string;\r\n    tacanOdgovorAudio? : AudioClip;\r\n    netacanOdgovor1?: string;\r\n    netacanOdgovor1Audio? : AudioClip;\r\n    netacanOdgovor2?: string;\r\n    netacanOdgovor2Audio? : AudioClip;\r\n    audioIsLoaded? : boolean;\r\n\r\n    constructor( ) {\r\n        this.type = \"\";\r\n        this.question = \"\";\r\n        this.questionAudio = undefined;\r\n        this.tacanOdgovor = \"\";\r\n        this.tacanOdgovorAudio = undefined;\r\n        this.netacanOdgovor1 = \"\";\r\n        this.netacanOdgovor1 = undefined;\r\n        this.netacanOdgovor2 = \"\";\r\n        this.netacanOdgovor2 = undefined;\r\n        this.audioIsLoaded = true;\r\n    }\r\n\r\n}\r\nexport class JSONobject {\r\n    quest?: string;\r\n    questImage?: SpriteFrame;\r\n    questAudio? : AudioClip;\r\n    audioIsLoaded? : boolean;\r\n\r\n    constructor( ) {\r\n        this.quest = undefined;\r\n        this.questImage = undefined;\r\n        this.questAudio = undefined;\r\n        this.audioIsLoaded = true;\r\n    }\r\n}\r\n\r\nexport class JSONquestTekst extends JSONobject{\r\n    \r\n    quest?: string;\r\n\r\n    constructor( ) {\r\n        super();\r\n        this.quest = \"\";\r\n    }\r\n}\r\n\r\nexport class JSONimage extends JSONobject {\r\n    \r\n    quest?: string;\r\n    questImage?: SpriteFrame;\r\n\r\n\r\n    constructor( ) {\r\n        super();\r\n        this.quest = \"\";\r\n        this.questImage = undefined;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.3/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.3/manual/en/scripting/ccclass.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.3/manual/en/scripting/life-cycle-callbacks.html\r\n */\r\n"]}