{"version":3,"sources":["file:///Users/aleksandarbedov/Documents/CocosCreator/tajanstvenesobe2/assets/Scripts/RemoteScripts/JSONloader.ts"],"names":["JSONtask2","JSONtask1","JSONobject","JSONquestTekst","JSONimage","_decorator","Component","assetManager","AudioClip","SpriteFrame","Texture2D","GameManager","ccclass","property","tasksInProgress","JSONloader","onLoad","gameManager","node","getComponent","fetchQuestions","folderURL","taskJSON","expectedQuestions","remoteUrlRoot","originUrl","LanguageName","LevelName","index","Number","questionURL","toString","returnQuestion","pop","returnQuestionInput","audioURL","loadRemote","err","textAsset","parsedJSON","JSON","parse","question","tacanOdgovor","undefined","audioClip","questionAudio","error","console","log","audioIsLoaded","remoteUrl","tempTask","netacanOdgovor1","netacanOdgovor2","push","update","instance","taskInProgressManager","fetchQuestTekst","questURL","tekstObject","quest","questAudio","fetchImageQuestTekst","imageObject","rootURL","fetchedImage","spriteFrame","texture","image","questImage","constructor","type","tacanOdgovorAudio"],"mappings":";;;mHAiSaA,S,EAsBAC,S,EA2BAC,U,EAcAC,c,EAUAC,S;;;;;;;;;;;;;;;;;;;;;AAzWJC,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAA4BC,MAAAA,Y,OAAAA,Y;AAAoBC,MAAAA,S,OAAAA,S;AAAwBC,MAAAA,W,OAAAA,W;AAAyBC,MAAAA,S,OAAAA,S;;AAsB7GC,MAAAA,W,iBAAAA,W;;;;;;;OArBH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U,GAE9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACIS,MAAAA,e,GAAkB,C;;4BAOTC,U,WADZH,OAAO,CAAC,YAAD,C,yBAAR,MACaG,UADb,SACgCT,SADhC,CAC0C;AAAA;AAAA;;AAAA;;AAAA,gDAGf,CAHe;;AAAA,6CAM1B,wBAN0B;AAAA;;AAQtCU,QAAAA,MAAM,GAAE;AAEJ,eAAKC,WAAL,GAAmB,KAAKC,IAAL,CAAUC,YAAV;AAAA;AAAA,yCAAnB,CAFI,CAIJ;AAEH;;AAGDC,QAAAA,cAAc,CAACC,SAAD,EAAoBC,QAApB,EAAgDC,iBAAhD,EAA2E;AAAA;;AAErF,cAAIC,aAAa,GAAG,KAAKC,SAAL,GAAiB,GAAjB,yBAAuB,KAAKR,WAA5B,sDAAuB,kBAAkBS,YAAzC,IAAwD,GAAxD,0BAA8D,KAAKT,WAAnE,uDAA8D,mBAAkBU,SAAhF,IAA4F,GAA5F,GAAkGN,SAAlG,GAA8G,GAAlI;;AAGA,eAAK,IAAIO,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGC,MAAM,CAACN,iBAAD,CAAN,GAA4B,CAAxD,EAA2DK,KAAK,EAAhE,EAAoE;AAChE;AACA,gBAAIE,WAAW,GAAGN,aAAa,GAAGI,KAAK,CAACG,QAAN,EAAhB,GAAmC,MAArD;;AAEA,gBAAG,CAAC,KAAKC,cAAL,CAAoBR,aAApB,EAAmCM,WAAnC,EAAgDR,QAAhD,EAA0DM,KAA1D,CAAJ,EAAsE;AAClEN,cAAAA,QAAQ,CAACW,GAAT;AAEAL,cAAAA,KAAK,GAAG,EAAR;AACH;AAEJ;AACJ;;AAEDM,QAAAA,mBAAmB,CAACJ,WAAD,EAAsBR,QAAtB,EAA2C;AAAA;;AAG1D,cAAIE,aAAa,GAAG,KAAKC,SAAL,GAAiB,GAAjB,0BAAuB,KAAKR,WAA5B,uDAAuB,mBAAkBS,YAAzC,IAAwD,GAAxD,0BAA8D,KAAKT,WAAnE,uDAA8D,mBAAkBU,SAAhF,IAA4F,GAA5F,GAAkGG,WAAtH;AACA,cAAIK,QAAQ,GAAG,KAAKV,SAAL,GAAiB,GAAjB,0BAAuB,KAAKR,WAA5B,uDAAuB,mBAAkBS,YAAzC,IAAwD,GAAxD,0BAA8D,KAAKT,WAAnE,uDAA8D,mBAAkBU,SAAhF,IAA4F,GAA3G;;AAEA,cAAI;AACAb,YAAAA,eAAe;AAEdP,YAAAA,YAAY,CAAC6B,UAAb,CAAwBZ,aAAa,CAACO,QAAd,EAAxB,EAAkD,UAAUM,GAAV,EAAeC,SAAf,EAA0B;AAExE,kBAAI;AACD,oBAAIC,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWH,SAAS,CAACP,QAAV,EAAX,CAAjB;AACAT,gBAAAA,QAAQ,CAACoB,QAAT,GAAoBH,UAAU,CAAC,UAAD,CAA9B;AACAjB,gBAAAA,QAAQ,CAACqB,YAAT,GAAwBJ,UAAU,CAAC,cAAD,CAAlC;;AAIA,oBAAIA,UAAU,CAAC,eAAD,CAAV,IAA+BK,SAAnC,EAA+C;AAE3C,sBAAI;AACA9B,oBAAAA,eAAe;AACfP,oBAAAA,YAAY,CAAC6B,UAAb,CAAmCD,QAAQ,GAAGI,UAAU,CAAC,eAAD,CAAxD,EAA4E/B,SAA5E,EAAwF,CAAC6B,GAAD,EAAMQ,SAAN,KAAqB;AACzGvB,sBAAAA,QAAQ,CAACwB,aAAT,GAA0BD,SAA1B;AACA/B,sBAAAA,eAAe;AAClB,qBAHD;AAKH,mBAPD,CAOE,OAAOiC,KAAP,EAAc;AACZC,oBAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACA3B,oBAAAA,QAAQ,CAAC4B,aAAT,GAAyB,KAAzB;AACH;AACJ,iBAbD,MAcIF,OAAO,CAACC,GAAR,CAAY,mCAAZ;;AAEJnC,gBAAAA,eAAe;AAClB,eAxBA,CAwBC,OAAOiC,KAAP,EAAc;AACZC,gBAAAA,OAAO,CAACC,GAAR,CAAY,4CAA4CF,KAAxD;AACA,uBAAO,KAAP;AACH;;AAAAC,cAAAA,OAAO,CAACC,GAAR,CAAY,eAAe3B,QAAQ,CAACwB,aAApC;AACJ,aA9BA;AA+BD,mBAAO,IAAP;AACH,WAnCD,CAmCE,OAAOC,KAAP,EAAc;AACZC,YAAAA,OAAO,CAACC,GAAR,CAAY,+CAA+CF,KAA3D;AACA,mBAAO,KAAP;AACH;AAGJ;;AAEDf,QAAAA,cAAc,CAACR,aAAD,EAAwBM,WAAxB,EAA6CR,QAA7C,EAAyEM,KAAzE,EAAyF;AAAA;;AAGnG,cAAIuB,SAAS,GAAG,KAAK1B,SAAL,GAAiB,GAAjB,0BAAuB,KAAKR,WAA5B,uDAAuB,mBAAkBU,SAAzC,IAAsD,GAAtD,0BAA4D,KAAKV,WAAjE,uDAA4D,mBAAkBS,YAA9E,IAA6F,GAA7F,GAAmGI,WAAnG,GAAiH,MAAjI;;AAEA,cAAI;AAECvB,YAAAA,YAAY,CAAC6B,UAAb,CAAwBN,WAAxB,EAAqC,UAAUO,GAAV,EAAeC,SAAf,EAA0B;AAE3D,kBAAI;AACDxB,gBAAAA,eAAe;AACf,oBAAIsC,QAAQ,GAAG,IAAInD,SAAJ,EAAf;AACA,oBAAIsC,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWH,SAAS,CAACP,QAAV,EAAX,CAAjB;AACAqB,gBAAAA,QAAQ,CAACV,QAAT,GAAoBH,UAAU,CAAC,UAAD,CAA9B;AACAa,gBAAAA,QAAQ,CAACT,YAAT,GAAwBJ,UAAU,CAAC,cAAD,CAAlC;AACAa,gBAAAA,QAAQ,CAACC,eAAT,GAA2Bd,UAAU,CAAC,iBAAD,CAArC;AACAa,gBAAAA,QAAQ,CAACE,eAAT,GAA2Bf,UAAU,CAAC,iBAAD,CAArC;;AAEA,oBAAIA,UAAU,CAAC,eAAD,CAAV,IAA+BK,SAAnC,EAA+C;AAE3C,sBAAI;AACA9B,oBAAAA,eAAe;AACfP,oBAAAA,YAAY,CAAC6B,UAAb,CAAmCZ,aAAa,GAAGe,UAAU,CAAC,eAAD,CAA7D,EAAiF/B,SAAjF,EAA6F,CAAC6B,GAAD,EAAMQ,SAAN,KAAqB;AAC9GO,sBAAAA,QAAQ,CAACN,aAAT,GAA0BD,SAA1B;AACA/B,sBAAAA,eAAe;AAClB,qBAHD;AAKH,mBAPD,CAOE,OAAOiC,KAAP,EAAc;AACZC,oBAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACAG,oBAAAA,QAAQ,CAACF,aAAT,GAAyB,KAAzB;AACH;AACJ,iBAbD,MAcIF,OAAO,CAACC,GAAR,CAAY,mCAAZ;;AAGJ,oBAAGG,QAAQ,CAACV,QAAT,IAAqBE,SAAxB,EACItB,QAAQ,CAACiC,IAAT,CAAcH,QAAd;AAEJtC,gBAAAA,eAAe;AAClB,eA9BA,CA8BC,OAAOiC,KAAP,EAAc;AACZC,gBAAAA,OAAO,CAACC,GAAR,CAAY,4CAA4CF,KAAxD;AACA,uBAAO,KAAP;AACH;AACJ,aApCA;AAqCD,mBAAO,IAAP;AACH,WAxCD,CAwCE,OAAOA,KAAP,EAAc;AACZC,YAAAA,OAAO,CAACC,GAAR,CAAY,+CAA+CF,KAA3D;AACA,mBAAO,KAAP;AACH;AAGJ;;AACDS,QAAAA,MAAM,GAAG;AACL;AAAA;AAAA,0CAAYC,QAAZ,CAAqBC,qBAArB,GAA6C7B,MAAM,CAAEf,eAAF,CAAnD;AAEH;;AAED6C,QAAAA,eAAe,CAACC,QAAD,EAAmBC,WAAnB,EAAgD;AAAA;;AAE3D,cAAIrC,aAAa,GAAG,KAAKC,SAAL,GAAiB,GAAjB,0BAAuB,KAAKR,WAA5B,uDAAuB,mBAAkBS,YAAzC,IAAwD,GAAxD,2BAA8D,KAAKT,WAAnE,wDAA8D,oBAAkBU,SAAhF,IAA4F,GAA5F,GAAkGiC,QAAtH;AACA,cAAIzB,QAAQ,GAAG,KAAKV,SAAL,GAAiB,GAAjB,2BAAuB,KAAKR,WAA5B,wDAAuB,oBAAkBS,YAAzC,IAAwD,GAAxD,2BAA8D,KAAKT,WAAnE,wDAA8D,oBAAkBU,SAAhF,IAA4F,GAA3G,CAH2D,CAI3D;;AAEA,cAAI;AAEAb,YAAAA,eAAe;AACfP,YAAAA,YAAY,CAAC6B,UAAb,CAAwBZ,aAAxB,EAAuC,UAAUa,GAAV,EAAeC,SAAf,EAA0B;AAE7D,kBAAI;AAED,oBAAIC,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWH,SAAS,CAACP,QAAV,EAAX,CAAjB;AAEA8B,gBAAAA,WAAW,CAACC,KAAZ,GAAoBvB,UAAU,CAAC,OAAD,CAA9B;;AAEA,oBAAIA,UAAU,CAAC,YAAD,CAAV,IAA4BK,SAAhC,EAA4C;AAExC,sBAAI;AACC9B,oBAAAA,eAAe;AAChBP,oBAAAA,YAAY,CAAC6B,UAAb,CAAmCD,QAAQ,GAAGI,UAAU,CAAC,YAAD,CAAxD,EAAyE/B,SAAzE,EAAqF,CAAC6B,GAAD,EAAMQ,SAAN,KAAqB;AACzGgB,sBAAAA,WAAW,CAACE,UAAZ,GAA0BlB,SAA1B;AACA/B,sBAAAA,eAAe;AACf,qBAHD;AAKH,mBAPD,CAOE,OAAOiC,KAAP,EAAc;AACZC,oBAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACAY,oBAAAA,WAAW,CAACX,aAAZ,GAA4B,KAA5B;AACH;AACJ,iBAbD,MAcIF,OAAO,CAACC,GAAR,CAAY,mCAAZ;;AAGHnC,gBAAAA,eAAe;AACnB,eAxBA,CAwBC,OAAOiC,KAAP,EAAc;AACZC,gBAAAA,OAAO,CAACC,GAAR,CAAY,4CAA4CF,KAAxD;AACA,uBAAO,KAAP;AACH;AACJ,aA9BA;AA+BD,mBAAO,IAAP;AACH,WAnCA,CAmCC,OAAOA,KAAP,EAAc;AACZC,YAAAA,OAAO,CAACC,GAAR,CAAY,+CAA+CF,KAA3D;AACA,mBAAO,KAAP;AACH;AACH;;AAGDiB,QAAAA,oBAAoB,CAACJ,QAAD,EAAmBK,WAAnB,EAA2C;AAAA;;AAE3D,cAAIzC,aAAa,GAAG,KAAKC,SAAL,GAAiB,GAAjB,2BAAuB,KAAKR,WAA5B,wDAAuB,oBAAkBS,YAAzC,IAAwD,GAAxD,2BAA8D,KAAKT,WAAnE,wDAA8D,oBAAkBU,SAAhF,IAA4F,GAA5F,GAAkGiC,QAAtH;AACA,cAAIM,OAAO,GAAG,KAAKzC,SAAL,GAAiB,GAAjB,2BAAuB,KAAKR,WAA5B,wDAAuB,oBAAkBS,YAAzC,IAAwD,GAAxD,2BAA8D,KAAKT,WAAnE,wDAA8D,oBAAkBU,SAAhF,IAA4F,GAA1G,CAH2D,CAI3D;;AAEA,cAAI;AACAb,YAAAA,eAAe;AACfP,YAAAA,YAAY,CAAC6B,UAAb,CAAwBZ,aAAxB,EAAuC,UAAUa,GAAV,EAAeC,SAAf,EAA0B;AAE7D,kBAAI;AAED,oBAAIC,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWH,SAAS,CAACP,QAAV,EAAX,CAAjB;AAEAkC,gBAAAA,WAAW,CAACH,KAAZ,GAAoBvB,UAAU,CAAC,OAAD,CAA9B;;AAEA,oBAAIA,UAAU,CAAC,YAAD,CAAV,IAA4BK,SAAhC,EAA4C;AAExC,sBAAI;AACC9B,oBAAAA,eAAe;AAChBP,oBAAAA,YAAY,CAAC6B,UAAb,CAAmC8B,OAAO,GAAG3B,UAAU,CAAC,YAAD,CAAvD,EAAwE/B,SAAxE,EAAoF,CAAC6B,GAAD,EAAMQ,SAAN,KAAqB;AACxGoB,sBAAAA,WAAW,CAACF,UAAZ,GAA0BlB,SAA1B;AACA/B,sBAAAA,eAAe;AACf,qBAHD;AAKH,mBAPD,CAOE,OAAOiC,KAAP,EAAc;AACZC,oBAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACAgB,oBAAAA,WAAW,CAACf,aAAZ,GAA4B,KAA5B;AACH;AACJ,iBAbD,MAcIF,OAAO,CAACC,GAAR,CAAY,mCAAZ;;AAGH,oBAAIV,UAAU,CAAC,YAAD,CAAV,IAA4BK,SAAhC,EAA4C;AAExC,sBAAI;AACArC,oBAAAA,YAAY,CAAC6B,UAAb,CAAoC8B,OAAO,GAAG3B,UAAU,CAAC,YAAD,CAAxD,EAAwE,CAACF,GAAD,EAAM8B,YAAN,KAAwB;AAC5FnB,sBAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgBiB,OAAhB,GAA0B3B,UAAU,CAAC,YAAD,CAAhD;AAEA,0BAAM6B,WAAW,GAAG,IAAI3D,WAAJ,EAApB;AACA,0BAAM4D,OAAO,GAAG,IAAI3D,SAAJ,EAAhB;AACA2D,sBAAAA,OAAO,CAACC,KAAR,GAAgBH,YAAhB;AACAC,sBAAAA,WAAW,CAACC,OAAZ,GAAsBA,OAAtB;AACAJ,sBAAAA,WAAW,CAACM,UAAZ,GAAyBH,WAAzB;AACH,qBARD;AAUH,mBAXD,CAWE,OAAOrB,KAAP,EAAc;AACZC,oBAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACAgB,oBAAAA,WAAW,CAACf,aAAZ,GAA4B,KAA5B;AACH;AACJ,iBAjBD,MAkBIF,OAAO,CAACC,GAAR,CAAY,iCAAZ;;AAEJnC,gBAAAA,eAAe;AACnB,eA5CA,CA4CC,OAAOiC,KAAP,EAAc;AACZC,gBAAAA,OAAO,CAACC,GAAR,CAAY,4CAA4CF,KAAxD;AACA,uBAAO,KAAP;AACH;AACJ,aAlDA;AAmDD,mBAAO,IAAP;AACH,WAtDA,CAsDC,OAAOA,KAAP,EAAc;AACZC,YAAAA,OAAO,CAACC,GAAR,CAAY,+CAA+CF,KAA3D;AACA,mBAAO,KAAP;AACH;AAGH;;AA/PqC,O;;2BAqQ7B/C,S,GAAN,MAAMA,SAAN,CAAgB;AAUnBwE,QAAAA,WAAW,GAAI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AACX,eAAKC,IAAL,GAAY,EAAZ;AACA,eAAK/B,QAAL,GAAgB,EAAhB;AACA,eAAKI,aAAL,GAAqBF,SAArB;AACA,eAAKD,YAAL,GAAoB,EAApB;AACA,eAAK+B,iBAAL,GAAyB9B,SAAzB;AAEA,eAAKM,aAAL,GAAqB,IAArB;AACH;;AAlBkB,O;;2BAsBVjD,S,GAAN,MAAMA,SAAN,CAAgB;AAanBuE,QAAAA,WAAW,GAAI;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AACX,eAAKC,IAAL,GAAY,EAAZ;AACA,eAAK/B,QAAL,GAAgB,EAAhB;AACA,eAAKI,aAAL,GAAqBF,SAArB;AACA,eAAKD,YAAL,GAAoB,EAApB;AACA,eAAK+B,iBAAL,GAAyB9B,SAAzB;AACA,eAAKS,eAAL,GAAuB,EAAvB;AACA,eAAKA,eAAL,GAAuBT,SAAvB;AACA,eAAKU,eAAL,GAAuB,EAAvB;AACA,eAAKA,eAAL,GAAuBV,SAAvB;AACA,eAAKM,aAAL,GAAqB,IAArB;AACH;;AAxBkB,O;;4BA2BVhD,U,GAAN,MAAMA,UAAN,CAAiB;AAMpBsE,QAAAA,WAAW,GAAI;AAAA;;AAAA;;AAAA;;AAAA;;AACX,eAAKV,KAAL,GAAalB,SAAb;AACA,eAAK2B,UAAL,GAAkB3B,SAAlB;AACA,eAAKmB,UAAL,GAAkBnB,SAAlB;AACA,eAAKM,aAAL,GAAqB,IAArB;AACH;;AAXmB,O;;gCAcX/C,c,GAAN,MAAMA,cAAN,SAA6BD,UAA7B,CAAuC;AAI1CsE,QAAAA,WAAW,GAAI;AACX;;AADW;;AAEX,eAAKV,KAAL,GAAa,EAAb;AACH;;AAPyC,O;;2BAUjC1D,S,GAAN,MAAMA,SAAN,SAAwBF,UAAxB,CAAmC;AAMtCsE,QAAAA,WAAW,GAAI;AACX;;AADW;;AAAA;;AAEX,eAAKV,KAAL,GAAa,EAAb;AACA,eAAKS,UAAL,GAAkB3B,SAAlB;AACH;;AAVqC,O;AAgB1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\r\nimport { _decorator, Component, Node, JsonAsset, assetManager, Game, AudioClip, AudioSource, SpriteFrame, ImageAsset, Texture2D, Sprite, game} from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n//const fs = require('fs');\r\n//import{  fs} from 'fs-extra';\r\n//https://docs.cocos.com/creator/3.1/manual/en/asset/dynamic-load-resources.html\r\n\r\n/**\r\n * Predefined variables\r\n * Name = JSONloader\r\n * DateTime = Fri Nov 26 2021 15:46:48 GMT+0100 (Central European Standard Time)\r\n * Author = stickandrope\r\n * FileBasename = JSONloader.ts\r\n * FileBasenameNoExtension = JSONloader\r\n * URL = db://assets/Scripts/RemoteScripts/JSONloader.ts\r\n * ManualUrl = https://docs.cocos.com/creator/3.3/manual/en/\r\n *\r\n */\r\n\r\n//var static instance: JSONloader;\r\nvar tasksInProgress = 0;\r\n \r\nimport { GameManager } from \"../GameManager\";\r\nimport { GlobalManager } from '../GlobalManager';\r\nimport { Task } from '../Tasks/Task';\r\n\r\n@ccclass('JSONloader')\r\nexport class JSONloader extends Component {\r\n    \r\n    gameManager? : GameManager ;\r\n    downloadTask: number = 0;\r\n\r\n    //originUrl = \"https://stickandrope.com/klett/json\"; \r\n    originUrl = \"http://abedov.com/json\"; \r\n\r\n    onLoad(){\r\n\r\n        this.gameManager = this.node.getComponent(GameManager)!;\r\n\r\n        //assetManager.\r\n        \r\n    }\r\n\r\n\r\n    fetchQuestions(folderURL: String, taskJSON: Array<JSONtask1>, expectedQuestions: Number) {\r\n\r\n        let remoteUrlRoot = this.originUrl + \"/\" + this.gameManager?.LanguageName + \"/\" + this.gameManager?.LevelName + \"/\" + folderURL + \"/\" ;\r\n\r\n\r\n        for (let index = 1; index < Number(expectedQuestions) + 1; index++) {\r\n            //console.log(\"URL: \" + remoteUrlRoot + index.toString() + \".txt\");\r\n            var questionURL = remoteUrlRoot + index.toString() + \".txt\";\r\n\r\n            if(!this.returnQuestion(remoteUrlRoot, questionURL, taskJSON, index)) {\r\n                taskJSON.pop();\r\n                \r\n                index = 13;\r\n            }\r\n                \r\n        }\r\n    }\r\n\r\n    returnQuestionInput(questionURL: String, taskJSON: JSONtask2) {\r\n\r\n\r\n        let remoteUrlRoot = this.originUrl + \"/\" + this.gameManager?.LanguageName + \"/\" + this.gameManager?.LevelName + \"/\" + questionURL;\r\n        var audioURL = this.originUrl + \"/\" + this.gameManager?.LanguageName + \"/\" + this.gameManager?.LevelName + \"/\";\r\n\r\n        try {\r\n            tasksInProgress++;\r\n\r\n             assetManager.loadRemote(remoteUrlRoot.toString(), function (err, textAsset) {\r\n\r\n                 try {\r\n                    var parsedJSON = JSON.parse(textAsset.toString());\r\n                    taskJSON.question = parsedJSON[\"question\"];\r\n                    taskJSON.tacanOdgovor = parsedJSON[\"tacanOdgovor\"];\r\n                    \r\n                    \r\n                    \r\n                    if( parsedJSON[\"questionAudio\"] != undefined)  {\r\n\r\n                        try {\r\n                            tasksInProgress++;\r\n                            assetManager.loadRemote<AudioClip>(audioURL + parsedJSON[\"questionAudio\"], (AudioClip), (err, audioClip) =>  {\r\n                                taskJSON.questionAudio =  audioClip ;\r\n                                tasksInProgress--;\r\n                            });\r\n                            \r\n                        } catch (error) {\r\n                            console.log(\"Zvuk nije dobro ucitan\");\r\n                            taskJSON.audioIsLoaded = false;\r\n                        } \r\n                    } else \r\n                        console.log(\"Ne postoje zvukovi za ovu putanju\");\r\n\r\n                    tasksInProgress--;\r\n                } catch (error) {\r\n                    console.log(\"Nisam nasao trazeno polje za parsiranje\" + error );\r\n                    return false;\r\n                }console.log(\" BITNOOO  \" + taskJSON.questionAudio);\r\n            });\r\n            return true;\r\n        } catch (error) {\r\n            console.log(\"Nisam nasao trazenu adresu za parsiranje 2\" + error );\r\n            return false;\r\n        }\r\n        \r\n\r\n    }\r\n\r\n    returnQuestion(remoteUrlRoot: string, questionURL: string, taskJSON: Array<JSONtask1>, index : number) {\r\n\r\n        \r\n        let remoteUrl = this.originUrl + \"/\" + this.gameManager?.LevelName  + \"/\" + this.gameManager?.LanguageName + \"/\" + questionURL + \".txt\";\r\n\r\n        try {\r\n\r\n             assetManager.loadRemote(questionURL, function (err, textAsset) {\r\n\r\n                 try {\r\n                    tasksInProgress++;\r\n                    var tempTask = new JSONtask1;\r\n                    var parsedJSON = JSON.parse(textAsset.toString());\r\n                    tempTask.question = parsedJSON[\"question\"];\r\n                    tempTask.tacanOdgovor = parsedJSON[\"tacanOdgovor\"];\r\n                    tempTask.netacanOdgovor1 = parsedJSON[\"netacanOdgovor1\"];\r\n                    tempTask.netacanOdgovor2 = parsedJSON[\"netacanOdgovor2\"];\r\n                    \r\n                    if( parsedJSON[\"questionAudio\"] != undefined)  {\r\n\r\n                        try {\r\n                            tasksInProgress++;\r\n                            assetManager.loadRemote<AudioClip>(remoteUrlRoot + parsedJSON[\"questionAudio\"], (AudioClip), (err, audioClip) =>  {\r\n                                tempTask.questionAudio =  audioClip ;\r\n                                tasksInProgress--;\r\n                            });\r\n\r\n                        } catch (error) {\r\n                            console.log(\"Zvuk nije dobro ucitan\");\r\n                            tempTask.audioIsLoaded = false;\r\n                        } \r\n                    } else \r\n                        console.log(\"Ne postoje zvukovi za ovu putanju\");\r\n                        \r\n                    \r\n                    if(tempTask.question != undefined)\r\n                        taskJSON.push(tempTask);\r\n\r\n                    tasksInProgress--;\r\n                } catch (error) {\r\n                    console.log(\"Nisam nasao trazeno polje za parsiranje\" + error );\r\n                    return false;\r\n                }\r\n            });\r\n            return true;\r\n        } catch (error) {\r\n            console.log(\"Nisam nasao trazenu adresu za parsiranje 2\" + error );\r\n            return false;\r\n        }\r\n        \r\n\r\n    }\r\n    update() {\r\n        GameManager.instance.taskInProgressManager = Number( tasksInProgress);\r\n        \r\n    }\r\n\r\n    fetchQuestTekst(questURL: string, tekstObject: JSONquestTekst) {\r\n\r\n        let remoteUrlRoot = this.originUrl + \"/\" + this.gameManager?.LanguageName + \"/\" + this.gameManager?.LevelName + \"/\" + questURL ;\r\n        var audioURL = this.originUrl + \"/\" + this.gameManager?.LanguageName + \"/\" + this.gameManager?.LevelName + \"/\";\r\n        //let questURLfull = remoteUrlRoot \r\n\r\n        try {\r\n\r\n            tasksInProgress++;\r\n            assetManager.loadRemote(remoteUrlRoot, function (err, textAsset) {\r\n\r\n                try {\r\n\r\n                   var parsedJSON = JSON.parse(textAsset.toString());\r\n\r\n                   tekstObject.quest = parsedJSON[\"quest\"];\r\n                   \r\n                   if( parsedJSON[\"questAudio\"] != undefined)  {\r\n                        \r\n                       try {\r\n                            tasksInProgress++;\r\n                           assetManager.loadRemote<AudioClip>(audioURL + parsedJSON[\"questAudio\"], (AudioClip), (err, audioClip) =>  {\r\n                            tekstObject.questAudio =  audioClip ;\r\n                            tasksInProgress--;\r\n                           });\r\n                        \r\n                       } catch (error) {\r\n                           console.log(\"Zvuk nije dobro ucitan\");\r\n                           tekstObject.audioIsLoaded = false;\r\n                       } \r\n                   } else \r\n                       console.log(\"Ne postoje zvukovi za ovu putanju\");\r\n\r\n\r\n                    tasksInProgress--;\r\n               } catch (error) {\r\n                   console.log(\"Nisam nasao trazeno polje za parsiranje\" + error );\r\n                   return false;\r\n               }\r\n           });\r\n           return true;\r\n       } catch (error) {\r\n           console.log(\"Nisam nasao trazenu adresu za parsiranje 2\" + error );\r\n           return false;\r\n       }\r\n    }\r\n\r\n    \r\n    fetchImageQuestTekst(questURL: string, imageObject: JSONimage) {\r\n\r\n        let remoteUrlRoot = this.originUrl + \"/\" + this.gameManager?.LanguageName + \"/\" + this.gameManager?.LevelName + \"/\" + questURL ;\r\n        var rootURL = this.originUrl + \"/\" + this.gameManager?.LanguageName + \"/\" + this.gameManager?.LevelName + \"/\";\r\n        //let questURLfull = remoteUrlRoot \r\n\r\n        try {\r\n            tasksInProgress++;\r\n            assetManager.loadRemote(remoteUrlRoot, function (err, textAsset) {\r\n\r\n                try {\r\n\r\n                   var parsedJSON = JSON.parse(textAsset.toString());\r\n\r\n                   imageObject.quest = parsedJSON[\"quest\"];\r\n                   \r\n                   if( parsedJSON[\"questAudio\"] != undefined)  {\r\n\r\n                       try {\r\n                            tasksInProgress++;\r\n                           assetManager.loadRemote<AudioClip>(rootURL + parsedJSON[\"questAudio\"], (AudioClip), (err, audioClip) =>  {\r\n                            imageObject.questAudio =  audioClip ;\r\n                            tasksInProgress--;\r\n                           });\r\n                        \r\n                       } catch (error) {\r\n                           console.log(\"Zvuk nije dobro ucitan\");\r\n                           imageObject.audioIsLoaded = false;\r\n                       } \r\n                   } else \r\n                       console.log(\"Ne postoje zvukovi za ovu putanju\");\r\n\r\n\r\n                    if( parsedJSON[\"questImage\"] != undefined)  {\r\n\r\n                        try {\r\n                            assetManager.loadRemote<ImageAsset>(rootURL + parsedJSON[\"questImage\"], (err, fetchedImage) =>  {\r\n                                console.log(\"Sta skidam \" + rootURL + parsedJSON[\"questImage\"]);\r\n                                \r\n                                const spriteFrame = new SpriteFrame();\r\n                                const texture = new Texture2D();\r\n                                texture.image = fetchedImage;\r\n                                spriteFrame.texture = texture;\r\n                                imageObject.questImage = spriteFrame ;\r\n                            });\r\n                         \r\n                        } catch (error) {\r\n                            console.log(\"Slika nije dobro ucitana\");\r\n                            imageObject.audioIsLoaded = false;\r\n                        } \r\n                    } else \r\n                        console.log(\"Ne postoji slika za ovu putanju\");\r\n\r\n                    tasksInProgress--;\r\n               } catch (error) {\r\n                   console.log(\"Nisam nasao trazeno polje za parsiranje\" + error );\r\n                   return false;\r\n               }\r\n           });\r\n           return true;\r\n       } catch (error) {\r\n           console.log(\"Nisam nasao trazenu adresu za parsiranje 2\" + error );\r\n           return false;\r\n       }\r\n\r\n       \r\n    }\r\n\r\n    \r\n    \r\n}\r\n\r\nexport class JSONtask2 {\r\n    \r\n    type?: string;\r\n    question?: string;\r\n    questionAudio? : AudioClip;\r\n    tacanOdgovor?: string;\r\n    tacanOdgovorAudio? : AudioClip;\r\n\r\n    audioIsLoaded? : boolean;\r\n\r\n    constructor( ) {\r\n        this.type = \"\";\r\n        this.question = \"\";\r\n        this.questionAudio = undefined;\r\n        this.tacanOdgovor = \"\";\r\n        this.tacanOdgovorAudio = undefined;\r\n\r\n        this.audioIsLoaded = true;\r\n    }\r\n\r\n}\r\n\r\nexport class JSONtask1 {\r\n    \r\n    type?: string;\r\n    question?: string;\r\n    questionAudio? : AudioClip;\r\n    tacanOdgovor?: string;\r\n    tacanOdgovorAudio? : AudioClip;\r\n    netacanOdgovor1?: string;\r\n    netacanOdgovor1Audio? : AudioClip;\r\n    netacanOdgovor2?: string;\r\n    netacanOdgovor2Audio? : AudioClip;\r\n    audioIsLoaded? : boolean;\r\n\r\n    constructor( ) {\r\n        this.type = \"\";\r\n        this.question = \"\";\r\n        this.questionAudio = undefined;\r\n        this.tacanOdgovor = \"\";\r\n        this.tacanOdgovorAudio = undefined;\r\n        this.netacanOdgovor1 = \"\";\r\n        this.netacanOdgovor1 = undefined;\r\n        this.netacanOdgovor2 = \"\";\r\n        this.netacanOdgovor2 = undefined;\r\n        this.audioIsLoaded = true;\r\n    }\r\n\r\n}\r\nexport class JSONobject {\r\n    quest?: string;\r\n    questImage?: SpriteFrame;\r\n    questAudio? : AudioClip;\r\n    audioIsLoaded? : boolean;\r\n\r\n    constructor( ) {\r\n        this.quest = undefined;\r\n        this.questImage = undefined;\r\n        this.questAudio = undefined;\r\n        this.audioIsLoaded = true;\r\n    }\r\n}\r\n\r\nexport class JSONquestTekst extends JSONobject{\r\n    \r\n    quest?: string;\r\n\r\n    constructor( ) {\r\n        super();\r\n        this.quest = \"\";\r\n    }\r\n}\r\n\r\nexport class JSONimage extends JSONobject {\r\n    \r\n    quest?: string;\r\n    questImage?: SpriteFrame;\r\n\r\n\r\n    constructor( ) {\r\n        super();\r\n        this.quest = \"\";\r\n        this.questImage = undefined;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.3/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.3/manual/en/scripting/ccclass.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.3/manual/en/scripting/life-cycle-callbacks.html\r\n */\r\n"]}